webpackJsonp([1],{"3Nru":function(e,t){},"8gnI":function(e,t){},BEqk:function(e,t){},Desh:function(e,t){},DkWE:function(e,t){},EDOF:function(e,t){},KGWn:function(e,t){},KgK4:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("IvJb"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var l=a("vSla")({name:"App"},n,!1,function(e){a("BEqk")},null,null).exports,s=a("zO6J"),o=a("6iV/"),r=a.n(o);var d="http://huahong.yongweisoft.cn",c={name:"login",data:function(){var e=this;return{ruleForm:{userphone:"admin",password:"123456"},rules:{userphone:[{validator:function(t,a,i){""===a?i(new Error("请输入用户名")):(""!==e.ruleForm.password&&e.$refs.ruleForm.validateField("password"),i())},trigger:"blur"}],password:[{validator:function(e,t,a){""===t?a(new Error("请输入密码")):a()},trigger:"blur"}]},btnLoading:!1}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a={tag:"user",op:"user_login",data:{account:"",password:""}};a.data.account=t.ruleForm.userphone,a.data.password=t.ruleForm.password,t.$axios.post(d+"/admin/users/rulegroup",r.a.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?t.$router.push("dashboard"):t.$Notice.warning({title:a.message})}).catch(function(){this.$Notice.error({title:"请求失败，请重试"})})})}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"log"}},[a("div",{staticClass:"login_m"},[a("div",{staticClass:"login_logo"},[e._v("爱医慧后台管理系统")]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm login_boder",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.submitForm("ruleForm")}}},[a("el-form-item",{staticClass:"el-login_name w_per-90",attrs:{label:"用户名",prop:"userphone"}},[a("el-input",{model:{value:e.ruleForm.userphone,callback:function(t){e.$set(e.ruleForm,"userphone",e._n(t))},expression:"ruleForm.userphone"}})],1),e._v(" "),a("el-form-item",{staticClass:"w_per-90",attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),e._v(" "),a("div",{staticClass:"el-login_sub"},[a("el-button",{staticClass:"login_sub",attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("登录"),e.btnLoading?a("span",[e._v("中...")]):e._e()])],1)],1)],1)])},staticRenderFns:[]};var p=a("vSla")(c,u,!1,function(e){a("EDOF")},null,null).exports,m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",[a("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal","background-color":"#3B3B41","text-color":"black","active-text-color":"#5cacfe"},on:{select:e.handleSelect}},[a("div",[a("div",{staticClass:"fl"},[a("i",{staticClass:"name_logo fl"}),e._v(" "),a("p",{staticClass:"name_title fr"},[e._v("爱医慧管理系统")])]),e._v(" "),a("ul",{staticClass:"white flex"},[a("li",[a("i",{staticClass:"icc icc_admin"}),e._v(" "),a("span",{staticClass:"icc_span"},[e._v("admin")])]),e._v(" "),a("li",[a("i",{staticClass:"icc icc_out"}),e._v(" "),a("span",{staticClass:"icc_span"},[e._v("退出")])])])])])],1)},staticRenderFns:[]};var g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",[a("Row",[a("Menu",{attrs:{accordion:""}},[a("Submenu",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"ios-people"}}),e._v("\r\n                    会员管理\r\n                ")],1),e._v(" "),a("MenuItem",{attrs:{name:"1-1"}},[a("router-link",{attrs:{to:"/account/accountlist"}},[e._v("会员列表")])],1)],2),e._v(" "),a("MenuItem",{attrs:{name:"2"}},[a("Icon",{attrs:{type:"ios-contrast"}}),a("router-link",{attrs:{to:"/drugs/drugslist"}},[e._v("药品管理")])],1),e._v(" "),a("MenuItem",{attrs:{name:"3"}},[a("Icon",{attrs:{type:"ios-paper"}}),a("router-link",{attrs:{to:"/order/orderlist"}},[e._v("订单管理")])],1),e._v(" "),a("Submenu",{attrs:{name:"4"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"md-megaphone"}}),e._v("\r\n                    消息管理\r\n                ")],1),e._v(" "),a("MenuItem",{attrs:{name:"4-2"}},[a("router-link",{attrs:{to:"/news/drugshare"}},[e._v("消息列表")])],1),e._v(" "),a("MenuItem",{attrs:{name:"4-1"}},[a("router-link",{attrs:{to:"/news/newslist"}},[e._v("文章咨讯")])],1)],2),e._v(" "),a("Submenu",{attrs:{name:"5"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"ios-rewind"}}),e._v("\r\n                    banner设置\r\n                ")],1),e._v(" "),a("MenuItem",{attrs:{name:"5-1"}},[a("router-link",{attrs:{to:"/banner/bannerlist"}},[e._v("首页banner设置")])],1),e._v(" "),a("MenuItem",{attrs:{name:"5-2"}},[a("router-link",{attrs:{to:"/banner/advertisement"}},[e._v("广告banner设置")])],1)],2),e._v(" "),a("Submenu",{attrs:{name:"6"}},[a("template",{slot:"title"},[a("Icon",{attrs:{type:"ios-options"}}),e._v("\r\n                    系统设置\r\n                ")],1),e._v(" "),a("MenuItem",{attrs:{name:"6-1"}},[a("router-link",{attrs:{to:"/system/setup"}},[e._v("系统基本设置")])],1),e._v(" "),a("MenuItem",{attrs:{name:"6-2"}},[a("router-link",{attrs:{to:"/system/setup"}},[e._v("微信设置")])],1),e._v(" "),a("MenuItem",{attrs:{name:"6-3"}},[a("router-link",{attrs:{to:"/system/message"}},[e._v("短信设置")])],1),e._v(" "),a("MenuItem",{attrs:{name:"6-4"}},[a("router-link",{attrs:{to:"/system/integral"}},[e._v("积分规则")])],1),e._v(" "),a("MenuItem",{attrs:{name:"6-5"}},[a("router-link",{attrs:{to:"/system/rule"}},[e._v("关于我们")])],1),e._v(" "),a("MenuItem",{attrs:{name:"6-6"}},[a("router-link",{attrs:{to:"/system/share"}},[e._v("分享设置")])],1)],2)],1)],1)],1)},staticRenderFns:[]};var h={name:"mainComponent",components:{"header-component":a("vSla")({name:"headerComponent",data:function(){return{}},methods:{}},m,!1,function(e){a("3Nru")},null,null).exports,"nav-component":a("vSla")({data:function(){return{theme2:"light"}}},g,!1,function(e){a("alVk")},null,null).exports},data:function(){return{exclude:"",isCollapse:!1,mainLoading:!1}},created:function(){this.mainLoading=!0}},b={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"content"},[t("transition",{attrs:{"enter-active-class":"progress-animated progressFadeIn"}}),this._v(" "),t("header-component",{ref:"header"}),this._v(" "),t("nav-component",{ref:"nav",attrs:{loading:this.mainLoading}}),this._v(" "),t("section",{class:{active:this.isCollapse,main:!0}},[t("transition",{attrs:{"enter-active-class":"router-animated routerFadeInUp"}},[t("keep-alive",{attrs:{exclude:this.exclude}},[t("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var v=a("vSla")(h,b,!1,function(e){a("UmZv")},null,null).exports,f={name:"chart",data:function(){return{authour:"WiseWrong",activeName:"1",Alist:[{name:"正在服务技师"},{name:"等待服务技师"}],active:"正在服务技师"}},methods:{selected:function(e){this.active=e}},mounted:function(){this.$echarts.init(document.getElementById("myChart")).setOption({tooltip:{trigger:"axis"},legend:{data:["今日订单总数","服务订单数","商品订单数"]},xAxis:[{type:"category",boundaryGap:!1,data:["05:00","06:15","07:30","08:45","10:00","11:15","12:30","13:45","15:00","16:15","17:30"]}],yAxis:{},series:[{name:"今日订单总数",type:"line",smooth:!0,data:[120,132,101,134,90,230,210,220,182,191,234,290,330]},{name:"服务订单数",type:"line",smooth:!0,data:[220,182,191,234,290,330,310,150,232,201,154,190]},{name:"商品订单数",type:"line",smooth:!0,data:[150,232,201,154,190,330,410,120,500,10,220,150,130]}]}),this.$echarts.init(document.getElementById("myChart1")).setOption({tooltip:{trigger:"axis"},legend:{data:["今日订单总数","服务订单数","商品订单数"]},xAxis:[{type:"category",boundaryGap:!1,data:["05:00","06:15","07:30","08:45","10:00","11:15","12:30","13:45","15:00","16:15","17:30"]}],yAxis:{},series:[{name:"今日订单总数",type:"line",smooth:!0,data:[120,132,101,134,90,230,210,220,182,191,234,290,330]},{name:"服务订单数",type:"line",smooth:!0,data:[220,182,191,234,290,330,310,150,232,201,154,190]},{name:"商品订单数",type:"line",smooth:!0,data:[150,232,201,154,190,330,410,120,500,10,220,150,130]}]})}},_={render:function(){var e=this.$createElement,t=this._self._c||e;return t("main",{attrs:{id:"main"}},[t("div",{staticClass:"main-content allcontent"},[this._m(0),this._v(" "),t("div",{staticClass:"main_table"},[t("div",{staticClass:"main-panle mt_10 main-flex order-flex"},[t("div",{staticClass:"store_title"},[this._v("订单数据")]),this._v(" "),t("div",{staticClass:"charts"},[t("div",{staticClass:"chart",style:{width:"100%",height:"300px"},attrs:{id:"myChart"}})])]),this._v(" "),t("div",{staticClass:"main-panle mt_10 main-flex order-flex"},[t("div",{staticClass:"store_title"},[this._v("销售数据")]),this._v(" "),t("div",{staticClass:"charts"},[t("div",{staticClass:"chart",style:{width:"100%",height:"300px"},attrs:{id:"myChart1"}})])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-panle"},[a("div",{staticClass:"store_title"},[e._v("门店数据")]),e._v(" "),a("ul",{staticClass:"store_data"},[a("li",{staticClass:"store_order bluesheepblue"},[a("p",{staticClass:"store_order-data bluecolor"},[e._v("新增会员")]),e._v(" "),a("p",{staticClass:"over relative store_little"},[a("span",{staticClass:"fl little_bit"}),e._v(" "),a("span",{staticClass:"store_today-count"},[e._v("今日新增用户")]),e._v(" "),a("span",{staticClass:"fr store-right"},[e._v("201")])]),e._v(" "),a("p",{staticClass:"over relative store_little"},[a("span",{staticClass:"fl little_bit"}),e._v(" "),a("span",{staticClass:"store_today-count"},[e._v("本月新增用户")]),e._v(" "),a("span",{staticClass:"fr store-right"},[e._v("201")])]),e._v(" "),a("p",{staticClass:"over relative"},[a("span",{staticClass:"fl little_bit"}),e._v(" "),a("span",{staticClass:"store_today-count"},[e._v("商品订单数")]),e._v(" "),a("span",{staticClass:"fr store-right"},[e._v("201")])])]),e._v(" "),a("li",{staticClass:"store_order orange_tint"},[a("p",{staticClass:"store_order-data orange_deep"},[e._v("活跃人数")]),e._v(" "),a("p",{staticClass:"over relative store_little"},[a("span",{staticClass:"fl little_bit"}),e._v(" "),a("span",{staticClass:"store_today-count"},[e._v("今日活跃人数")]),e._v(" "),a("span",{staticClass:"fr store-right"},[e._v("201")])]),e._v(" "),a("p",{staticClass:"over relative store_little"},[a("span",{staticClass:"fl little_bit"}),e._v(" "),a("span",{staticClass:"store_today-count"},[e._v("本月活跃人数")]),e._v(" "),a("span",{staticClass:"fr store-right"},[e._v("201")])])]),e._v(" "),a("li",{staticClass:"store_order purple_tint"},[a("p",{staticClass:"store_order-data purple_deep"},[e._v("订单数据")]),e._v(" "),a("p",{staticClass:"over relative store_little"},[a("span",{staticClass:"fl little_bit"}),e._v(" "),a("span",{staticClass:"store_today-count"},[e._v("今日订单数")]),e._v(" "),a("span",{staticClass:"fr store-right"},[e._v("201")])]),e._v(" "),a("p",{staticClass:"over relative store_little"},[a("span",{staticClass:"fl little_bit"}),e._v(" "),a("span",{staticClass:"store_today-count"},[e._v("本月订单数")]),e._v(" "),a("span",{staticClass:"fr store-right"},[e._v("201")])]),e._v(" "),a("p",{staticClass:"over relative"},[a("span",{staticClass:"fl little_bit"}),e._v(" "),a("span",{staticClass:"store_today-count"},[e._v("其他收入")]),e._v(" "),a("span",{staticClass:"fr store-right"},[e._v("201")])])]),e._v(" "),a("li",{staticClass:"store_order red_tint"},[a("p",{staticClass:"store_order-data red_deep"},[e._v("销售数据")]),e._v(" "),a("p",{staticClass:"over relative store_little"},[a("span",{staticClass:"fl little_bit"}),e._v(" "),a("span",{staticClass:"store_today-count"},[e._v("今日销售数")]),e._v(" "),a("span",{staticClass:"fr store-right"},[e._v("201")])]),e._v(" "),a("p",{staticClass:"over relative store_little"},[a("span",{staticClass:"fl little_bit"}),e._v(" "),a("span",{staticClass:"store_today-count"},[e._v("本月销售数")]),e._v(" "),a("span",{staticClass:"fr store-right"},[e._v("201")])]),e._v(" "),a("p",{staticClass:"over relative"},[a("span",{staticClass:"fl little_bit"}),e._v(" "),a("span",{staticClass:"store_today-count"},[e._v("其他收入")]),e._v(" "),a("span",{staticClass:"fr store-right"},[e._v("201")])])])])])}]};var w=a("vSla")(f,_,!1,function(e){a("kErl")},null,null).exports,y=a("aA9S"),C=a.n(y),D=a("MgeX"),x=a.n(D),T={name:"UE",data:function(){return{editor:null}},props:{defaultMsg:{type:String},config:{type:Object}},mounted:function(){var e=this;this.editor=window.UE.getEditor("editor",this.config),this.editor.addListener("ready",function(){e.editor.setContent(e.defaultMsg)})},methods:{initUEditor:function(){var e=this;this.editor=window.UE.getEditor("editor",this.config),this.editor.addListener("ready",function(){e.editor.setContent(e.defaultMsg)})},getUEContent:function(){return this.editor.getContent()},setUEContent:function(){return this.editor.setContent(this.defaultMsg)}},destroyed:function(){this.editor.destroy()}},$={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"editor-box"}},[t("script",{attrs:{id:"editor",type:"text/plain"}})])}]};var k=a("vSla")(T,$,!1,function(e){a("WH17")},null,null).exports,S={components:{UE:k},data:function(){return{defaultMsg:"",editVisible:!1,currentPage:1,currentPagebook:1,currentPage1:1,currentPage2:1,pageSizes:[10],pagesize:10,pagesize2:10,pageSizes2:[10],pagesizebook:10,tableData:[],tableDatagood:[],tableDatasale:[],tableDatadetail:[],tableDataShopname:[],tableDatabuy:[],tableDatalevel:[],tableDatalook:[],nameData:[],tableData3:[],durgData:[],codeData:[],code:[],total:0,totallook:0,totaldetail:0,totalpe:0,total2:0,totalpoint:0,totalseach:0,loading:!0,show:!1,sureLoading:!1,drugshop:!1,patient:!1,allname:!1,saleagent:!1,patientdetial:!1,saledetail:!1,drug:!1,agentdetail:!1,sg:!1,areacontent:!1,show_sale:!1,CodeVisible:!1,shopname:"",aid:"",formdrug:{name:""},formInline:{type:1,name:"",phone:""},formInline2:{name:"",sn:"",enddate:""},dialogVisible:!1,dialogTableVisible:!1,dialogVisibledrug:!1,dialogVisiblesale:!1,dialogVisibleagent:!1,dialogdetail:!1,dialogcase:!1,dialogVisiblecase:!1,dialogVisiblepoint:!1,aVisible:!1,aredyVisible:!1,BuyaVisible:!1,LevelVisible:!1,agenname:"",agenphone:"",addTableData:{point:"",type:1,phone:"",avator:"",level:"",sex:1,level_imgurl:"",address:"",status:1,name:"",label:"",aid:"",id:""},addTableDatadrug:{phone:"",shop_image:"",level:"",sex:1,address:"",status:1,uname:"",shop_name:"",longitude:"",latitude:"",licence_imgurl:"",be_good_at:"",label:"",aid:"",id:"",fathername:"",fatherphone:"",imageUrl:"",imagelicence:""},addTableDatasale:{fatherphone:"",fathername:"",phone:"",level:"",sex:1,address:"",status:1,uname:"",agent_products:[],agent_region:[],label:"",aid:"",id:""},addTableDataagent:{point:"",radio2:1,phone:"",level:"",sex:1,address:"",status:1,uname:"",agent_products:[],agent_region:[],label:"",aid:"",id:""},addTableDatacase:{shopname:"",age:"",sex:1,remarks:"",status:1,aid:"-1",id:""},addTableDatapoint:{point:"",id:""},center:{lng:116.404,lat:39.915},zoom:15,rules:{uname:[{required:!0,message:"请输入用户姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入电话号码",trigger:"blur"}],level:[{required:!0,message:"请输入等级",trigger:"blur"}]},rulesdrug:{phone:[{required:!0,message:"请输入电话号码",trigger:"blur"}],uname:[{required:!0,message:"请输入负责人名字",trigger:"blur"}],fatherphone:[{required:!0,message:"请输入代理人电话",trigger:"change"}],level:[{required:!0,message:"请输入等级",trigger:"blur"}],shop_name:[{required:!0,message:"请输入药店名",trigger:"blur"}],licence_imgurl:[{required:!0,message:"请上传营业执照",trigger:"blur"}],longitude:[{required:!0,message:"请选择地图的经度",trigger:"change"}],latitude:[{required:!0,message:"请选择地图的纬度",trigger:"change"}]},rulesale:{phone:[{required:!0,message:"请输入销售电话号码",trigger:"blur"}],uname:[{required:!0,message:"请输入销售名字",trigger:"blur"}],fatherphone:[{required:!0,message:"请输入代理人电话",trigger:"blur"}],agent_products:[{required:!0,message:"请选择销售药品",trigger:"blur"}]},rulesagent:{phone:[{required:!0,message:"请输入电话号码",trigger:"blur"}],uname:[{required:!0,message:"请输入负责人名字",trigger:"blur"}],level:[{required:!0,message:"请输入等级",trigger:"blur"}]},options:[],province:"",city:"",district:"",region_province:"",region_city:"",region_district:"",radio2:1,agentlevel:"",optionsend:[],optionsale:[],imageUrl:"",imagelicence:"",faid:"",config:{initialFrameWidth:null,initialFrameHeight:350},arrayFilter:[],arrayFilter1:[],pointid:"",clickagen:"",agentid:"",regionprovince:"",regioncity:"",regiondistrict:"",goodshow:!1,loweragent:!0,tableDatagoods:""}},activated:function(){this.getList(),this.gradeChange()},methods:{querySearch:function(e,t){var a=this,i={tag:"member",op:"getuserbyphone",condition:{phone:this.addTableDatasale.fatherphone}};this.$axios.post(d+"/admin/member/index",r.a.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(i){var n=i.data;if(n.err>0){a.agentid=n.data[0].id;var l=n.data.map(function(e){e.phone,e.name,e.num1;return{value:e.phone}}),s=e?l.filter(a.createFilter(e)):l;t(s)}else a.$Notice.warning({title:n.message})})},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){var t=this,a={tag:"member",op:"getuserbyphone",condition:{phone:this.addTableDatasale.fatherphone}};this.$axios.post(d+"/admin/member/index",r.a.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.agentid=a.data[0].id,t.agentdurg()):t.$Notice.warning({title:a.message})})},agentdurg:function(){var e=this,t={tag:"member",op:"getmemberproduct",condition:{id:this.agentid}};this.$axios.post(d+"/admin/member/index",r.a.stringify(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){var a=t.data;a.err>0?e.tableDatagoods=a.data.list:e.$Notice.warning({title:a.message})})},formImageChange:function(e,t){var a=this;this.imageUrl=URL.createObjectURL(e.raw);var i=new FormData;i.append("image",e.raw),i.append("dic","shop"),this.$axios.post(d+"/admin/upload/index",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var t=e.data;t.err>0?(a.addTableData.shop_image=t.data,a.$Notice.success({title:t.message})):(a.loading=!1,a.$Notice.warning({title:t.message}))})},formImageChangone:function(e,t){var a=this;this.imagelicence=URL.createObjectURL(e.raw);var i=new FormData;i.append("image",e.raw),i.append("dic","shop"),this.$axios.post(d+"/admin/upload/index",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var t=e.data;t.err>0?a.addTableData.licence_imgurl=t.data:a.loading=!1})},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw),this.imagelicence=URL.createObjectURL(t.raw)},handleCommand:function(e,t,a){var i=this;this.pointid=e;var n={tag:"member",op:"",condition:{id:e}};"a"===t?(i.BuyaVisible=!0,n.op="getone"):"b"===t?(i.LevelVisible=!0,n.op="getchild"):"c"===t?(i.aredyVisible=!0,n.op="recentsearch"):"d"===t?(i.dialogVisiblepoint=!0,i.addTableDatapoint.point=""):"e"===t&&(i.CodeVisible=!0,n.op="point_history"),this.$axios.post(d+"/admin/member/index",r.a.stringify(n),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?"a"===t?i.tableDatabuy=a.data.lastOrder.info:"b"===t?i.tableDatalevel=a.data.list:"c"===t?(i.durgData=a.data.list,i.totalseach=a.data.total):"e"===t&&(i.codeData=a.data.list,i.totalpoint=a.data.total):(i.tableDatabuy=[],i.tableDatalevel=[],i.durgData=[],i.codeData=[],i.totalpoint=0,i.durgData=0,i.totalseach=0)})},remoteMethod:function(e){var t=this,a=this,i={tag:"member",op:"getuserbyphone",condition:{phone:e}};this.$axios.post(d+"/admin/member/index",r.a.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var i=e.data;i.err>0?a.optionsend=i.data:t.optionsend=[]})},seecase:function(e){var t=this;t.aVisible=!0;var a=this.currentPagebook,i={tag:"member",op:"case_history",condition:{id:e}};t.$axios.post(d+"/admin/member/index?limit=10&page="+a,r.a.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.tableDatalook=a.data.list,t.totallook=a.data.total):(t.tableDatalook=[],t.totallook=0)})},agency_level:function(e){this.agentlevel=e,-1===this.agentlevel?(this.goodshow=!1,this.loweragent=!0):0===this.agentlevel?(this.goodshow=!1,this.loweragent=!0):1===this.agentlevel?(this.goodshow=!1,this.loweragent=!0):-2===this.agentlevel&&(this.agentList(),this.goodshow=!0,this.loweragent=!1)},syncCenterAndZoom:function(e){var t=e.target.getCenter(),a=t.lng,i=t.lat;this.center.lng=a,this.center.lat=i,this.zoom=e.target.getZoom()},bmaplist:function(){var e=this,t=new BMap.Map("container");t.setDefaultCursor("crosshair"),t.enableScrollWheelZoom();var a=new BMap.Point(104.0691640252,30.6012017471);t.centerAndZoom(a,13);var i=new BMap.Geocoder;t.addControl(new BMap.NavigationControl),t.addControl(new BMap.OverviewMapControl),t.addControl(new BMap.ScaleControl),t.addControl(new BMap.MapTypeControl),t.addControl(new BMap.CopyrightControl);var n=new BMap.Marker(a);function l(t,a){var i=a.addressComponents,l=i.province+i.city+i.district+i.street+i.streetNumber,s=new BMap.InfoWindow(l,{title:"当前位置"});n.openInfoWindow(s),e.addTableDatadrug.address=i.province+i.city+i.district+i.street+i.streetNumber}t.addOverlay(n),n.enableDragging(),t.addEventListener("click",function(a){var n=new BMap.Marker(a.point);e.addTableDatadrug.longitude=a.point.lng,e.addTableDatadrug.latitude=a.point.lat,i.getLocation(a.point,function(e){l(a.point,e)}),t.clearOverlays(n),t.addOverlay(n)});var s=new BMap.TrafficLayer;t.addTileLayer(s)},cancelForm:function(e){this.dialogVisible=!1,this.dialogVisibledrug=!1,this.dialogVisiblesale=!1,this.dialogVisiblepoint=!1,this.dialogVisiblecase=!1,this.aVisible=!1,this.aredyVisible=!1,this.dialogVisibleagent=!1,this.$refs[e].resetFields()},handleChange:function(e,t){var a=this;this.peid=e,this.faid=t;var i={tag:"member",op:"getmemberproduct",condition:{id:t}};this.$axios.post(d+"/admin/member/index",r.a.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var t=e.data;t.err>0?(a.dialogVisiblecase=!0,a.tableData3=t.data.list,a.tableData3.map(function(e,t){a.$set(e,"num1",0),e.final=e.default+e.num1}),a.totalpe=t.data.total):(a.areacontent=!1,a.show_sale=!1,a.$Notice.warning({title:t.message}))})},handleChangesale:function(e){var t=this;this.faid=e;var a={tag:"member",op:"getmemberproduct",condition:{id:e}};this.$axios.post(d+"/admin/member/index",r.a.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.areacontent=!0,t.show_sale=!0,t.tableDatasale=a.data.list,t.addTableDatasale.fathername=a.data.uname,t.addTableDatadrug.fathername=a.data.uname,t.$Notice.success({title:a.message})):(t.areacontent=!1,t.show_sale=!1,t.tableDatasale=[],t.$Notice.warning({title:"暂无代理，请前往代理页面新增代理"}))})},handlenumber:function(e,t){var a=this.tableData3.map(function(e){e.id,e.name,e.num1;return{gid:e.id,product_name:e.name,product_sum:e.num1}});this.arrayFilter=a.filter(function(e){return 0!==e.product_sum})},handlenumber2:function(e,t){e.totalmoney=Math.floor(e.price*t*100)/100;var a=this.tableDatagood.map(function(e){return{id:e.id,num2:e.num2}});this.arrayFilter1=a.filter(function(e){return 0!==e.num2})},submitFormcase:function(){var e=this,t=this;this.sureLoading=!0;var a={tag:"member",op:"case_history_add",condition:{id:this.addpe},data:{mid:this.peid,shopid:this.faid,age:this.addTableDatacase.age,gender:this.addTableDatacase.sex,remarks:this.addTableDatacase.remarks,goods:this.arrayFilter}};this.$axios.post(d+"/admin/member/index",r.a.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){var i=a.data;i.err>0?(e.dialogVisiblecase=!1,e.sureLoading=!1,t.$Notice.success({title:i.message})):(e.sureLoading=!1,t.$Notice.warning({title:i.message}))}).catch(function(){t.$Notice.error({title:"请求失败，请重试"})})},submitFormpoint:function(){var e=this;this.sureLoading=!0;var t={tag:"member",op:"pointupdate",condition:{id:this.pointid,add:"0"},data:{point:this.addTableDatapoint.point}};this.$axios.post(d+"/admin/member/index",r.a.stringify(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){var a=t.data;a.err>0?(e.getList(),e.dialogVisiblepoint=!1,e.sureLoading=!1,e.$Notice.success({title:a.message})):(e.sureLoading=!1,e.$Notice.warning({title:a.message}))})},submitForm:function(e){var t=this,a=this;a.$refs[e].validate(function(e){if(!e)return!1;t.sureLoading=!0;var i={tag:"member",op:"",condition:{id:t.addTableData.id},data:{type:"1",openid:"",uname:t.addTableData.uname,phone:t.addTableData.phone,point:t.addTableData.point,level:"1",sex:t.addTableData.sex,address:t.addTableData.address,status:t.addTableData.status,label:""}};"-1"===a.addTableData.aid?i.op="add":i.op="update",t.$axios.post(d+"/admin/member/index",r.a.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var i=e.data;i.err>0?(t.getList(),t.dialogVisible=!1,t.sureLoading=!1,a.$Notice.success({title:i.message})):(t.sureLoading=!1,a.$Notice.warning({title:i.message}))}).catch(function(){a.$Notice.error({title:"请求失败，请重试"})})})},gradeChange:function(){var e=this;this.$axios.get("../../../static/js/area.json").then(function(t){e.options=t.data})},submitFormdrug:function(e){var t=this,a=this;a.$refs[e].validate(function(e){if(!e)return!1;t.sureLoading=!0;var i={tag:"member",op:"",condition:{id:t.addTableDatadrug.id},data:{type:"2",uname:t.addTableDatadrug.uname,phone:t.addTableDatadrug.phone,level:"1",sex:"1",status:"1",shop_name:t.addTableDatadrug.shop_name,longitude:t.addTableDatadrug.longitude,latitude:t.addTableDatadrug.latitude,address:t.addTableDatadrug.address,shop_image:d+a.addTableData.shop_image,licence_imgurl:d+a.addTableData.licence_imgurl,fatherid:t.faid,be_good_at:t.$refs.ue.getUEContent()}};"-1"===a.addTableDatadrug.aid?i.op="add":i.op="update",t.$axios.post(d+"/admin/member/index",r.a.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var i=e.data;i.err>0?(t.getList(),t.dialogVisibledrug=!1,t.sureLoading=!1,a.$Notice.success({title:i.message})):(t.sureLoading=!1,a.$Notice.warning({title:i.message}))}).catch(function(){a.$Notice.error({title:"请求失败，请重试"})})})},handleagen:function(e){this.clickagen="1",this.region_province=x()(e)[0],this.region_city=x()(e)[1],this.region_district=x()(e)[2],console.log(this.region_province+this.region_city)},submitFormsale:function(e){var t=this,a=this;a.$refs[e].validate(function(e){if(!e)return!1;var i={tag:"member",op:"",condition:{id:t.addTableDatasale.id},data:{type:"3",phone:t.addTableDatasale.phone,uname:t.addTableDatasale.uname,sex:t.addTableDatasale.sex,level:"1",status:"1",agent_products:t.addTableDatasale.agent_products,region_province:"",region_city:"",region_district:"",fatherid:t.faid}};"-1"===a.addTableDatasale.aid?(i.op="add",i.data.region_province=t.region_province,i.data.region_city=t.region_city,i.data.region_district=t.region_district):("1"===t.clickagen?(i.data.region_province=t.region_province,i.data.region_city=t.region_city,i.data.region_district=t.region_district):(i.data.region_province=t.province,i.data.region_city=t.city,i.data.region_district=t.district),i.op="update"),t.$axios.post(d+"/admin/member/index",r.a.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var i=e.data;i.err>0?(t.getList(),t.dialogVisiblesale=!1,t.sureLoading=!1,a.$Notice.success({title:i.message})):(t.sureLoading=!1,a.$Notice.warning({title:i.message}))}).catch(function(){a.$Notice.error({title:"请求失败，请重试"})})})},submitFormagent:function(e){var t=this,a=this;a.$refs[e].validate(function(e){if(!e)return!1;t.sureLoading=!0,-1===t.agentlevel?(t.region_province=t.region_province,t.region_city="",t.region_district=""):0===t.agentlevel?(t.region_province=t.region_province,t.region_city=t.region_city,t.region_district=""):1===t.agentlevel?(t.region_province=t.region_province,t.region_city=t.region_city,t.region_district=t.region_district):-2===t.agentlevel&&(t.region_province="",t.region_city="",t.region_district="");var i={tag:"member",op:"",condition:{id:t.addTableDataagent.id},data:{type:"4",uname:t.addTableDataagent.uname,phone:t.addTableDataagent.phone,level:"1",sex:t.addTableDataagent.sex,address:"",status:t.addTableDataagent.status,label:"",agent_products:"",region_province:"",region_city:"",region_district:"",point:t.addTableDataagent.point,fatherid:""}};-1===t.agentlevel?(i.data.agent_products=t.addTableDataagent.agent_products,i.data.fatherid=t.agentid):0===t.agentlevel?(i.data.agent_products=t.addTableDataagent.agent_products,i.data.fatherid=t.agentid):1===t.agentlevel?(i.data.agent_products=t.addTableDataagent.agent_products,i.data.fatherid=t.agentid):-2===t.agentlevel&&(i.data.agent_products=t.arrayFilter1,i.data.fatherid="-2"),"-1"===a.addTableDataagent.aid?(i.data.region_province=t.region_province,i.data.region_city=t.region_city,i.data.region_district=t.region_district,i.op="add"):(t.sureLoading=!1,1===t.clickagen?(i.data.region_province=t.region_province,i.data.region_city=t.region_city,i.data.region_district=t.region_district):(i.data.region_province=t.province,i.data.region_city=t.city,i.data.region_district=t.district),i.op="update"),t.$axios.post(d+"/admin/member/index",r.a.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var i=e.data;i.err>0?(t.getList(),t.dialogVisibleagent=!1,t.sureLoading=!1,a.$Notice.success({title:i.message})):(t.sureLoading=!1,a.$Notice.warning({title:i.message}))}).catch(function(){a.$Notice.error({title:"请求失败，请重试"})})})},adddrug:function(e){var t=this;this.dialogVisibledrug=!0,this.defaultMsg="",this.areacontent=!1,this.imageUrl="",this.imagelicence="",this.addTableDatadrug={imageUrl:"",licence_imgurl:"",shop_image:"",fatherphone:"",fathername:"",phone:"",uname:"",level:"",sex:1,address:"",status:1,shop_name:"",longitude:"",latitude:"",be_good_at:"",label:"",aid:"-1",id:""},setTimeout(function(){t.bmaplist()},600),this.$refs[e].resetFields()},addsale:function(e){this.dialogVisiblesale=!0,this.show_sale=!1,this.addTableDatasale={fathername:"",fatherphone:"",agent_products:[],agent_region:[],phone:"",level:"",sex:1,address:"",status:1,label:"",aid:"-1",id:""},this.saleList(),this.$refs[e].resetFields()},addagent:function(e){this.dialogVisibleagent=!0,this.goodshow=!1,this.radio2=1,this.addTableDataagent={point:"",radio2:1,agent_region:[],agent_products:[],phone:"",level:"",sex:1,status:1,label:"",aid:"-1",id:""},this.$refs[e].resetFields()},editor:function(e,t,a,i){this.dialogVisible=!0,this.sureLoading=!1,this.addTableData=C()({},a[e]),this.$refs[i].resetFields()},editordrug:function(e,t,a,i){var n=this;this.dialogVisibledrug=!0,this.addTableDatadrug=C()({},a[e]),this.imageUrl=a[e].shop_image,this.imagelicence=a[e].licence_imgurl,setTimeout(function(){var e=n,t=n.addTableDatadrug.longitude,a=n.addTableDatadrug.latitude,i=new BMap.Map("container");i.setDefaultCursor("crosshair"),i.enableScrollWheelZoom();var l=new BMap.Point(t,a);i.centerAndZoom(l,13);var s=new BMap.Geocoder;i.addControl(new BMap.NavigationControl),i.addControl(new BMap.OverviewMapControl),i.addControl(new BMap.ScaleControl),i.addControl(new BMap.MapTypeControl),i.addControl(new BMap.CopyrightControl);var o=new BMap.Marker(l);function r(t,a){var i=a.addressComponents,n=i.province+i.city+i.district+i.street+i.streetNumber,l=new BMap.InfoWindow(n,{title:"当前位置"});o.openInfoWindow(l),e.addTableDatadrug.address=i.province+i.city+i.district+i.street+i.streetNumber}i.addOverlay(o),o.enableDragging(),i.addEventListener("click",function(t){var a=new BMap.Marker(t.point);e.addTableDatadrug.longitude=t.point.lng,e.addTableDatadrug.latitude=t.point.lat,s.getLocation(t.point,function(e){r(t.point,e)}),i.clearOverlays(a),i.addOverlay(a)});var d=new BMap.TrafficLayer;i.addTileLayer(d)},600),this.defaultMsg=a[e].be_good_at||"",this.sureLoading=!1,this.areacontent=!0,this.$refs[i].resetFields()},editorsale:function(e,t,a,i){this.dialogVisiblesale=!0,this.show_sale=!0,this.sureLoading=!1,this.addTableDatasale=C()({},a[e]),this.province=a[e].region_province,this.city=a[e].region_city,this.district=a[e].region_district,this.saleList(),this.$refs[i].resetFields()},editoragent:function(e,t,a,i){this.dialogVisibleagent=!0,this.clickagen="",this.sureLoading=!1,this.addTableDataagent=C()({},a[e]),this.province=a[e].region_province,this.city=a[e].region_city,this.district=a[e].region_district,this.agentList(),this.$refs[i].resetFields()},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e,this.getList()},handleCurrentChange1:function(e){this.currentPage1=e,this.drugseach()},handleSizeChange2:function(e){this.pagesize2=e},handleCurrentChange2:function(e){this.currentPage2=e,this.agentList()},handleCurrentChangebook:function(e){this.currentPagebook=e,this.seecase()},getList:function(e){var t=this,a=this;e&&(this.currentPage=1);var i=this.currentPage,n={tag:"member",op:"getlist",condition:{type:this.formInline.type,name:this.formInline.name,phone:this.formInline.phone}};1===this.formInline.type?this.patient=!0:this.patient=!1,2===this.formInline.type?this.drugshop=!0:this.drugshop=!1,3===this.formInline.type||4===this.formInline.type?this.saleagent=!0:this.saleagent=!1,this.$axios.post(d+"/admin/member/index?limit=10&page="+i,r.a.stringify(n),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.tableData=a.data.list,t.total=a.data.total,t.loading=!1):(t.loading=!1,t.tableData=[],t.total=0,t.$Notice.warning({title:a.message}))}).catch(function(){a.$Notice.error({title:"请求失败，请重试"})})},agentList:function(e){var t=this,a={tag:"product",op:"getlist",condition:{name:this.formInline2.name,sn:this.formInline2.sn,enddate:this.formInline2.enddate}},i=this.currentPage2;this.$axios.post(d+"/admin/product/index?limit=10&page="+i,r.a.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.tableDatagood=a.data.list,t.total2=a.data.total,t.loading=!1,t.tableDatagood.map(function(e,a){t.$set(e,"num2",0),e.final=e.default+e.num2})):(t.$Notice.warning({title:a.message}),t.loading=!1,t.total2=0)}).catch(function(){this.$Notice.error({title:"请求失败，请重试"})})},drugseach:function(e){var t=this;e&&(this.currentPage1=1);var a=this.currentPage1,i={tag:"product",op:"getlist",condition:{name:this.formInline.name}};this.$axios.post(d+"/admin/product/index?limit=10&page="+a,r.a.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.tableData3=a.data.list,t.tableData3.map(function(e,a){t.$set(e,"num1",0),e.final=e.default+e.num1}),t.totalpe=a.data.total,t.loading=!1):(t.loading=!1,t.tableData3=[],t.totalpe=0,t.$Notice.warning({title:a.message}))})},addcase:function(){var e=this;this.addTableDatadrug.remarks="",this.addTableDatacase={age:"",sex:1,num1:""};var t=this;this.shopname="";var a=this.currentPage;this.$axios.post(d+"/admin/member/index?limit=10&page="+a,r.a.stringify({tag:"member",op:"getlist",condition:{type:"2"}}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){var a=t.data;a.err>0?e.tableDataShopname=a.data.list:e.$Notice.warning({title:a.message})}).catch(function(){t.$Notice.error({title:"请求失败，请重试"})})},saleList:function(e){var t=this,a={tag:"product",op:"getlist",condition:{name:this.formInline.name,sn:this.formInline.sn,enddate:this.formInline.enddate,stock:this.formInline.stock}};this.$axios.post(d+"/admin/product/index",r.a.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.tableDatagood=a.data.list,t.total2=a.data.total,t.loading=!1):(t.$Notice.warning({title:a.message}),t.loading=!1,t.total2=0)}).catch(function(){this.$Notice.error({title:"请求失败，请重试"})})},detail:function(e){var t=this;1===this.formInline.type?(this.patientdetial=!0,this.allname=!1,this.sg=!1):this.patientdetial=!1,2===this.formInline.type?(this.drug=!0,this.allname=!0,this.sg=!1):this.drug=!1,3===this.formInline.type?(this.saledetail=!0,this.allname=!0,this.sg=!0):this.saledetail=!1,4===this.formInline.type?(this.agentdetail=!0,this.allname=!0,this.sg=!0):this.agentdetail=!1;var a={tag:"member",op:"getone",condition:{id:e}};this.dialogdetail=!0,this.$axios.post(d+"/admin/member/index",r.a.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.tableDatadetail=a.data,t.agenname=a.data.father.uname,t.agenphone=a.data.father.phone):t.loading=!1})},setadddrug:function(e){var t=this,a={tag:"member",op:"role",condition:{id:e},data:{type:"2"}};t.$axios.post(d+"/admin/member/index",r.a.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.getList(),t.$Notice.success({title:a.message})):t.$Notice.warning({title:a.message})}).catch(function(){t.$Notice.error({title:"请求失败，请重试"})})},setaddsale:function(e){var t=this,a={tag:"member",op:"role",condition:{id:e},data:{type:"3"}};t.$axios.post(d+"/admin/member/index",r.a.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.getList(),t.$Notice.success({title:a.message})):t.$Notice.warning({title:a.message})}).catch(function(){t.$Notice.error({title:"请求失败，请重试"})})},setaddagent:function(e){var t=this,a={tag:"member",op:"role",condition:{id:e},data:{type:"4"}};t.$axios.post(d+"/admin/member/index",r.a.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.getList(),t.$Notice.success({title:a.message})):t.$Notice.warning({title:a.message})}).catch(function(){t.$Notice.error({title:"请求失败，请重试"})})},changeState:function(e,t){var a=this,i={tag:"member",op:"state",condition:{id:e},data:{status:t=1===t?0:1}};a.$axios.post(d+"/admin/member/index",r.a.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var t=e.data;t.err>0?(a.getList(),a.$Notice.success({title:t.message})):a.$Notice.warning({title:t.message})}).catch(function(){a.$Notice.error({title:"请求失败，请重试"})})}}},L={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main_content"},[a("div",{staticClass:"main-title relative"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"../dashboard"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("会员列表")])],1),e._v(" "),a("div",{staticClass:"main-panle"},[a("form",{staticClass:"from-reset relative",attrs:{model:e.formInline}},[a("div",{staticClass:"from-group",staticStyle:{width:"120px"}},[a("el-select",{model:{value:e.formInline.type,callback:function(t){e.$set(e.formInline,"type",t)},expression:"formInline.type"}},[a("el-option",{attrs:{label:"病人",value:1}}),e._v(" "),a("el-option",{attrs:{label:"药店",value:2}}),e._v(" "),a("el-option",{attrs:{label:"销售",value:3}}),e._v(" "),a("el-option",{attrs:{label:"代理商",value:4}})],1)],1),e._v(" "),a("div",{staticClass:"from-group",staticStyle:{width:"150px"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),e._v(" "),a("div",{staticClass:"from-group form_phone"},[a("el-input",{attrs:{placeholder:"请输入电话号码"},model:{value:e.formInline.phone,callback:function(t){e.$set(e.formInline,"phone",t)},expression:"formInline.phone"}})],1),e._v(" "),a("div",{staticClass:"from-group"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.getList(!0)}}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"from-group"},[a("el-popover",{attrs:{placement:"right",width:"280",trigger:"click"}},[a("el-button",{on:{click:function(t){e.adddrug("ruleForm")}}},[e._v("药店")]),e._v(" "),a("el-button",{on:{click:function(t){e.addsale("ruleForm")}}},[e._v("销售")]),e._v(" "),a("el-button",{on:{click:function(t){e.addagent("ruleForm")}}},[e._v("代理商")]),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"primary"},slot:"reference"},[e._v("新增")])],1)],1)])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.patient,expression:"patient"}]},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{align:"center",label:"电话号码"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticClass:"dtail_number",on:{click:function(a){e.seecase(t.row.id)}}},[e._v(e._s(t.row.phone))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"姓名",prop:"uname",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"性别",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.sex?a("p",[e._v("男")]):2===t.row.sex?a("p",[e._v("女")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"等级",prop:"level",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"积分",prop:"point",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.type?a("p",[e._v("病人")]):2===t.row.type?a("p",[e._v("药店")]):3===t.row.type?a("p",[e._v("销售")]):4===t.row.type?a("p",[e._v("代理商")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:"1"==t.row.status?"tag_success":"tag_danger",on:{click:function(a){e.changeState(t.row.id,t.row.status)}}},[e._v(e._s("1"==t.row.status?"启用":"禁用")+"\n                ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"300",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("button",{staticClass:"el-button el-button--default el-button--small",attrs:{type:"button"},on:{click:function(a){e.editor(t.$index,t.row.id,e.tableData,"ruleForm")}}},[a("span",[e._v("编辑")])]),e._v(" "),a("el-popover",{attrs:{placement:"right",width:"200",trigger:"click"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择店铺","filter-method":e.remoteMethod},on:{change:function(a){e.handleChange(t.row.id,a)}},model:{value:e.shopname,callback:function(t){e.shopname=t},expression:"shopname"}},e._l(e.tableDataShopname,function(e){return a("el-option",{key:e.id,attrs:{label:e.shop_name,value:e.id}})})),e._v(" "),a("button",{staticClass:"el-button el-button--warning el-button--small",attrs:{slot:"reference",type:"primary"},on:{click:function(a){e.addcase(t.row.id)}},slot:"reference"},[a("span",[e._v("新增病例")])])],1),e._v(" "),a("el-popover",{attrs:{placement:"right",width:"300",trigger:"click"}},[a("el-button",{on:{click:function(a){e.setadddrug(t.row.id)}}},[e._v("药店")]),e._v(" "),a("el-button",{on:{click:function(a){e.setaddsale(t.row.id)}}},[e._v("销售")]),e._v(" "),a("el-button",{on:{click:function(a){e.setaddagent(t.row.id)}}},[e._v("代理商")]),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"info",size:"small"},slot:"reference"},[e._v("设置")])],1),e._v(" "),a("el-dropdown",{staticClass:"el_more",on:{command:function(a){e.handleCommand(t.row.id,a,t.row.type)}}},[a("span",{staticClass:"el-dropdown-link"},[e._v("\n                更多"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"c"}},[e._v("经常搜索药品")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"d"}},[e._v("扣积分")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"e"}},[e._v("积分记录")])],1)],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.drugshop,expression:"drugshop"}]},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{align:"center",width:"110",label:"电话号码"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticClass:"dtail_number",on:{click:function(a){e.detail(t.row.id)}}},[e._v(e._s(t.row.phone))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"负责人姓名",prop:"uname",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"药店名",width:"150",prop:"shop_name",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"药店地址",width:"220",prop:"address",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"等级",prop:"level",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"积分",prop:"point",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.type?a("p",[e._v("病人")]):2===t.row.type?a("p",[e._v("药店")]):3===t.row.type?a("p",[e._v("销售")]):4===t.row.type?a("p",[e._v("代理商")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("p",{staticClass:"disable"},[e._v("已禁用")]):a("p",{staticClass:"enable"},[e._v("已启用")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"250",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("button",{class:1===t.row.status?"el-button el-button--small tag_success":"el-button el-button--small tag_danger",attrs:{type:"button"},on:{click:function(a){e.changeState(t.row.id,t.row.status)}}},[a("span",[e._v(e._s("1"==t.row.status?"启用":"禁用"))])]),e._v(" "),a("button",{staticClass:"el-button el-button--default el-button--small",attrs:{type:"button"},on:{click:function(a){e.editordrug(t.$index,t.row.id,e.tableData,"ruleForm")}}},[a("span",[e._v("编辑")])]),e._v(" "),a("el-dropdown",{staticClass:"el_more",on:{command:function(a){e.handleCommand(t.row.id,a,t.row.type)}}},[a("span",{staticClass:"el-dropdown-link"},[e._v("\n                  更多"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"a"}},[e._v("最近一次采购记录")])],1)],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),e.saleagent?a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{align:"center",width:"150",label:"电话号码"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticClass:"dtail_number",on:{click:function(a){e.detail(t.row.id)}}},[e._v(e._s(t.row.phone))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"代理人",prop:"uname",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"性别",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.sex?a("p",[e._v("男")]):2===t.row.sex?a("p",[e._v("女")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"等级",prop:"level",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"积分",prop:"point",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"售卖区域",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.region_province)+e._s(t.row.region_city)+e._s(t.row.region_district))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.type?a("p",[e._v("病人")]):2===t.row.type?a("p",[e._v("药店")]):3===t.row.type?a("p",[e._v("销售")]):4===t.row.type?a("p",[e._v("代理商")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("p",{staticClass:"disable"},[e._v("已禁用")]):a("p",{staticClass:"enable"},[e._v("已启用")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"250",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[3==t.row.type?a("button",{staticClass:"el-button el-button--default el-button--small",attrs:{type:"button"},on:{click:function(a){e.editorsale(t.$index,t.row.id,e.tableData,"ruleForm")}}},[a("span",[e._v("编辑")])]):4==t.row.type?a("button",{staticClass:"el-button el-button--default el-button--small",attrs:{type:"button"},on:{click:function(a){e.editoragent(t.$index,t.row.id,e.tableData,"ruleForm")}}},[a("span",[e._v("编辑")])]):e._e(),e._v(" "),a("button",{class:1===t.row.status?"el-button el-button--small tag_success":"el-button el-button--small tag_danger",attrs:{type:"button"},on:{click:function(a){e.changeState(t.row.id,t.row.status)}}},[a("span",[e._v(e._s("1"==t.row.status?"启用":"禁用"))])]),e._v(" "),a("el-dropdown",{staticClass:"el_more",on:{command:function(a){e.handleCommand(t.row.id,a,t.row.type)}}},[a("span",{staticClass:"el-dropdown-link"},[e._v("\n                更多"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"a"}},[e._v("采购记录")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"b"}},[e._v("下级")])],1)],1)]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e(),e._v(" "),a("el-dialog",{attrs:{title:"-1"===e.addTableData.aid?"新增病人信息":"修改病人信息",visible:e.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"35%"},on:{"update:visible":function(t){e.dialogVisible=t}},model:{value:e.addTableData.id,callback:function(t){e.$set(e.addTableData,"id",t)},expression:"addTableData.id"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.addTableData,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"uname"}},[a("el-input",{attrs:{placeholder:"请输入用户姓名"},model:{value:e.addTableData.uname,callback:function(t){e.$set(e.addTableData,"uname",t)},expression:"addTableData.uname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电话号码",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入电话号码",maxlength:"11"},model:{value:e.addTableData.phone,callback:function(t){e.$set(e.addTableData,"phone",t)},expression:"addTableData.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"请输入用户地址"},model:{value:e.addTableData.address,callback:function(t){e.$set(e.addTableData,"address",t)},expression:"addTableData.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"积分"}},[a("el-input",{attrs:{placeholder:"请输入用户积分"},model:{value:e.addTableData.point,callback:function(t){e.$set(e.addTableData,"point",t)},expression:"addTableData.point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-select",{staticStyle:{width:"30%"},attrs:{placeholder:"请选择会员性别"},model:{value:e.addTableData.sex,callback:function(t){e.$set(e.addTableData,"sex",t)},expression:"addTableData.sex"}},[a("el-option",{attrs:{label:"男",value:1}}),e._v(" "),a("el-option",{attrs:{label:"女",value:2}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{staticStyle:{width:"30%"},model:{value:e.addTableData.status,callback:function(t){e.$set(e.addTableData,"status",t)},expression:"addTableData.status"}},[a("el-option",{attrs:{label:"启用",value:1}}),e._v(" "),a("el-option",{attrs:{label:"禁用",value:0}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelForm("ruleForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.sureLoading},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"-1"===e.addTableDatadrug.aid?"新增药店信息":"修改药店信息",visible:e.dialogVisibledrug,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"40%"},on:{"update:visible":function(t){e.dialogVisibledrug=t}},model:{value:e.addTableDatadrug.id,callback:function(t){e.$set(e.addTableDatadrug,"id",t)},expression:"addTableDatadrug.id"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.addTableDatadrug,rules:e.rulesdrug,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"负责人姓名",prop:"uname"}},[a("el-input",{attrs:{placeholder:"请输入负责人姓名"},model:{value:e.addTableDatadrug.uname,callback:function(t){e.$set(e.addTableDatadrug,"uname",t)},expression:"addTableDatadrug.uname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"负责人电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入负责人电话",maxlength:"11"},model:{value:e.addTableDatadrug.phone,callback:function(t){e.$set(e.addTableDatadrug,"phone",t)},expression:"addTableDatadrug.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药店名",prop:"shop_name"}},[a("el-input",{attrs:{placeholder:"请输入药店名"},model:{value:e.addTableDatadrug.shop_name,callback:function(t){e.$set(e.addTableDatadrug,"shop_name",t)},expression:"addTableDatadrug.shop_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"店铺图片"}},[a("el-upload",{staticClass:"avatar-uploader avatar-uploader_356x178 avatar-uploader_contain",attrs:{id:"el-upload1",action:"11111","show-file-list":!1,"on-change":e.formImageChange,"auto-upload":!1,"on-success":e.handleAvatarSuccess}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"营业执照"}},[a("el-upload",{staticClass:"avatar-uploader avatar-uploader_356x178 avatar-uploader_contain",attrs:{id:"el-upload2",action:"11111","show-file-list":!1,"on-change":e.formImageChangone,"auto-upload":!1,"on-success":e.handleAvatarSuccess}},[e.imagelicence?a("img",{staticClass:"avatar",attrs:{src:e.imagelicence}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"代理电话",prop:"fatherphone"}},[a("el-select",{attrs:{filterable:"",placeholder:"请输入代理电话号码","filter-method":e.remoteMethod},on:{change:e.handleChangesale},model:{value:e.addTableDatadrug.fatherphone,callback:function(t){e.$set(e.addTableDatadrug,"fatherphone",t)},expression:"addTableDatadrug.fatherphone"}},e._l(e.optionsend,function(e){return a("el-option",{key:e.id,attrs:{label:e.phone,value:e.id}})}))],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.areacontent,expression:"areacontent"}]},[a("el-form-item",{attrs:{label:"代理姓名"}},[a("el-input",{attrs:{placeholder:"代理姓名",disabled:!0},model:{value:e.addTableDatadrug.fathername,callback:function(t){e.$set(e.addTableDatadrug,"fathername",t)},expression:"addTableDatadrug.fathername"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"经度",prop:"longitude"}},[a("el-input",{attrs:{placeholder:"请选择地图经度",disabled:!0},model:{value:e.addTableDatadrug.longitude,callback:function(t){e.$set(e.addTableDatadrug,"longitude",t)},expression:"addTableDatadrug.longitude"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"纬度",prop:"latitude"}},[a("el-input",{attrs:{placeholder:"请选择地图纬度",disabled:!0},model:{value:e.addTableDatadrug.latitude,callback:function(t){e.$set(e.addTableDatadrug,"latitude",t)},expression:"addTableDatadrug.latitude"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"请选择地址"},model:{value:e.addTableDatadrug.address,callback:function(t){e.$set(e.addTableDatadrug,"address",t)},expression:"addTableDatadrug.address"}})],1),e._v(" "),a("div",{staticClass:"el-form-item__content"},[a("form",[a("div",{staticStyle:{margin:"auto",height:"400px","margin-bottom":"50px"},attrs:{id:"container"}})])])],1),e._v(" "),a("div",{staticClass:"details"},[e._v("详情")]),e._v(" "),e.dialogVisibledrug?a("UE",{ref:"ue",staticClass:"ueeclsjdf",attrs:{defaultMsg:e.defaultMsg,config:e.config}}):e._e()],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelForm("ruleForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.sureLoading},on:{click:function(t){e.submitFormdrug("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"-1"===e.addTableDatasale.aid?"新增销售信息":"修改销售信息",visible:e.dialogVisiblesale,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"35%"},on:{"update:visible":function(t){e.dialogVisiblesale=t}},model:{value:e.addTableDatasale.id,callback:function(t){e.$set(e.addTableDatasale,"id",t)},expression:"addTableDatasale.id"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.addTableDatasale,rules:e.rulesale,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"销售的电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入销售的电话",maxlength:"11"},model:{value:e.addTableDatasale.phone,callback:function(t){e.$set(e.addTableDatasale,"phone",t)},expression:"addTableDatasale.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"销售的姓名",prop:"uname"}},[a("el-input",{attrs:{placeholder:"请输入销售的姓名"},model:{value:e.addTableDatasale.uname,callback:function(t){e.$set(e.addTableDatasale,"uname",t)},expression:"addTableDatasale.uname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-select",{staticStyle:{width:"30%"},attrs:{placeholder:"请选择会员性别"},model:{value:e.addTableDatasale.sex,callback:function(t){e.$set(e.addTableDatasale,"sex",t)},expression:"addTableDatasale.sex"}},[a("el-option",{attrs:{label:"男",value:1}}),e._v(" "),a("el-option",{attrs:{label:"女",value:2}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"销售电话",prop:"fatherphone"}},[a("el-select",{attrs:{filterable:"",placeholder:"请输入代理电话号码","filter-method":e.remoteMethod},on:{change:e.handleChangesale},model:{value:e.addTableDatasale.fatherphone,callback:function(t){e.$set(e.addTableDatasale,"fatherphone",t)},expression:"addTableDatasale.fatherphone"}},e._l(e.optionsend,function(e){return a("el-option",{key:e.id,attrs:{label:e.phone,value:e.id}})}))],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.show_sale,expression:"show_sale"}]},[a("el-form-item",{attrs:{label:"代理姓名"}},[a("el-input",{attrs:{placeholder:"请输入代理人姓名",disabled:!0},model:{value:e.addTableDatasale.fathername,callback:function(t){e.$set(e.addTableDatasale,"fathername",t)},expression:"addTableDatasale.fathername"}})],1),e._v(" "),a("el-form-item",{staticClass:"relative",attrs:{label:"售卖的药品",prop:"agent_products"}},[a("el-select",{staticClass:"el_choose",attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"请选择售卖的药品"},model:{value:e.addTableDatasale.agent_products,callback:function(t){e.$set(e.addTableDatasale,"agent_products",t)},expression:"addTableDatasale.agent_products"}},e._l(e.tableDatasale,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"销售区域"}},[a("el-cascader",{attrs:{placeholder:"请输入销售的区域",filterable:"",options:e.options,props:{value:"name",label:"name",children:"city"}},on:{change:e.handleagen},model:{value:e.addTableDatasale.agent_region,callback:function(t){e.$set(e.addTableDatasale,"agent_region",t)},expression:"addTableDatasale.agent_region"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelForm("ruleForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.sureLoading},on:{click:function(t){e.submitFormsale("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"-1"===e.addTableDataagent.aid?"新增代理商信息":"修改代理商信息",visible:e.dialogVisibleagent,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"45%"},on:{"update:visible":function(t){e.dialogVisibleagent=t}},model:{value:e.addTableDataagent.id,callback:function(t){e.$set(e.addTableDataagent,"id",t)},expression:"addTableDataagent.id"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.addTableDataagent,rules:e.rulesagent,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"代理人",prop:"uname"}},[a("el-input",{attrs:{placeholder:"请输入代理人姓名"},model:{value:e.addTableDataagent.uname,callback:function(t){e.$set(e.addTableDataagent,"uname",t)},expression:"addTableDataagent.uname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"电话号码",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入电话号码",maxlength:"11"},model:{value:e.addTableDataagent.phone,callback:function(t){e.$set(e.addTableDataagent,"phone",t)},expression:"addTableDataagent.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"代理级别"}},[a("el-radio-group",{on:{change:e.agency_level},model:{value:e.radio2,callback:function(t){e.radio2=t},expression:"radio2"}},[a("el-radio",{attrs:{label:-2}},[e._v("总代理")]),e._v(" "),a("el-radio",{attrs:{label:-1}},[e._v("省代理")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("市代理")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("区代理")])],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.loweragent,expression:"loweragent"}],attrs:{label:"代理电话",prop:"fatherphone"}},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入代理电话号码","trigger-on-focus":!1},on:{select:e.handleSelect},model:{value:e.addTableDatasale.fatherphone,callback:function(t){e.$set(e.addTableDatasale,"fatherphone",t)},expression:"addTableDatasale.fatherphone"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.loweragent,expression:"loweragent"}],staticClass:"relative",attrs:{label:"代理的药品"}},[a("el-select",{staticClass:"el_choose",attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"请选择代理的药品"},model:{value:e.addTableDataagent.agent_products,callback:function(t){e.$set(e.addTableDataagent,"agent_products",t)},expression:"addTableDataagent.agent_products"}},e._l(e.tableDatagoods,function(e,t){return a("el-option",{key:t.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"代理的区域"}},[a("el-cascader",{attrs:{placeholder:"请输入代理的区域",filterable:"",options:e.options,props:{value:"name",label:"name",children:"city"}},on:{change:e.handleagen},model:{value:e.addTableDataagent.agent_region,callback:function(t){e.$set(e.addTableDataagent,"agent_region",t)},expression:"addTableDataagent.agent_region"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-select",{staticStyle:{width:"30%"},attrs:{placeholder:"请选择会员性别"},model:{value:e.addTableDataagent.sex,callback:function(t){e.$set(e.addTableDataagent,"sex",t)},expression:"addTableDataagent.sex"}},[a("el-option",{attrs:{label:"男",value:1}}),e._v(" "),a("el-option",{attrs:{label:"女",value:2}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"积分"}},[a("el-input",{attrs:{placeholder:"请输入代理人积分"},model:{value:e.addTableDataagent.point,callback:function(t){e.$set(e.addTableDataagent,"point",t)},expression:"addTableDataagent.point"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{staticStyle:{width:"30%"},model:{value:e.addTableDataagent.status,callback:function(t){e.$set(e.addTableDataagent,"status",t)},expression:"addTableDataagent.status"}},[a("el-option",{attrs:{label:"启用",value:1}}),e._v(" "),a("el-option",{attrs:{label:"禁用",value:0}})],1)],1),e._v(" "),a("form",{directives:[{name:"show",rawName:"v-show",value:e.goodshow,expression:"goodshow"}],staticClass:"from-reset relative f_seach d_seach",attrs:{model:e.formInline2}},[a("div",{staticClass:"from-group form_dugr"},[a("el-input",{attrs:{placeholder:"请输入药品名"},model:{value:e.formInline2.name,callback:function(t){e.$set(e.formInline2,"name",t)},expression:"formInline2.name"}})],1),e._v(" "),a("div",{staticClass:"from-group"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.agentList(!0)}}},[e._v("查询")])],1)]),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.goodshow,expression:"goodshow"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableDatagood,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"name",label:"药品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{attrs:{min:0},on:{change:function(a){e.handlenumber2(t.row,a)}},model:{value:t.row.num2,callback:function(a){e.$set(t.row,"num2",a)},expression:"scope.row.num2"}})]}}])})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.goodshow,expression:"goodshow"}],staticClass:"detail_page"},[a("el-pagination",{attrs:{"current-page":e.currentPage2,"page-sizes":e.pageSizes2,"page-size":e.pagesize2,layout:"total, sizes, prev, pager, next, jumper",total:e.total2},on:{"size-change":e.handleSizeChange2,"current-change":e.handleCurrentChange2}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelForm("ruleForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.sureLoading},on:{click:function(t){e.submitFormagent("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"会员详情",visible:e.dialogdetail,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"45%","border-radius":"8px"},on:{"update:visible":function(t){e.dialogdetail=t}}},[a("ul",{staticClass:"service-detial_ul"},[a("li",{directives:[{name:"show",rawName:"v-show",value:e.drug,expression:"drug"}],staticClass:"tc over"},[a("div",{staticClass:"fl"},[e._v("门店图片")]),e._v(" "),e.tableDatadetail.shop_image?a("div",{staticClass:"fl relative"},[a("img",{staticStyle:{"max-width":"100px","max-height":"100px"},attrs:{src:e.tableDatadetail.shop_image,width:"100",height:"80"}})]):a("div",{staticClass:"fl"},[e._v("\n                无\n            ")])]),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.drug,expression:"drug"}],staticClass:"tc over"},[a("div",{staticClass:"fl"},[e._v("营业执照")]),e._v(" "),e.tableDatadetail.licence_imgurl?a("div",{staticClass:"fl relative"},[a("img",{staticStyle:{"max-width":"100px","max-height":"100px"},attrs:{src:e.tableDatadetail.licence_imgurl,width:"100",height:"80"}})]):a("div",{staticClass:"fl"},[e._v("\n                无\n            ")])]),e._v(" "),a("li",{staticClass:"tc over"},[a("div",{staticClass:"fl"},[e._v("负责人电话号码")]),a("div",{staticClass:"fl"},[e._v(e._s(e.tableDatadetail.phone))])]),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.patientdetial,expression:"patientdetial"}],staticClass:"tc over"},[a("div",{staticClass:"fl"},[e._v("姓名")]),a("div",{staticClass:"fl"},[e._v(e._s(e.tableDatadetail.name))])]),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.allname,expression:"allname"}],staticClass:"tc over"},[a("div",{staticClass:"fl"},[e._v("代理人姓名")]),a("div",{staticClass:"fl"},[e._v(e._s(e.agenname))])]),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.allname,expression:"allname"}],staticClass:"tc over"},[a("div",{staticClass:"fl"},[e._v("代理电话")]),a("div",{staticClass:"fl"},[e._v(e._s(e.agenphone))])]),e._v(" "),a("li",{staticClass:"tc over"},[a("div",{staticClass:"fl"},[e._v("性别")]),1==e.tableDatadetail.sex?a("div",{staticClass:"fl"},[e._v("男")]):2==e.tableDatadetail.sex?a("div",{staticClass:"fl"},[e._v("女")]):e._e()]),e._v(" "),a("li",{staticClass:"tc over"},[a("div",{staticClass:"fl"},[e._v("等级")]),a("div",{staticClass:"fl"},[e._v(e._s(e.tableDatadetail.level))])]),e._v(" "),a("li",{staticClass:"tc over"},[a("div",{staticClass:"fl"},[e._v("积分")]),a("div",{staticClass:"fl"},[e._v(e._s(e.tableDatadetail.point))])]),e._v(" "),a("li",{staticClass:"tc over"},[a("div",{staticClass:"fl"},[e._v("类型")]),e._v(" "),1===e.tableDatadetail.type?a("div",{staticClass:"fl"},[e._v("病人")]):2===e.tableDatadetail.type?a("div",{staticClass:"fl"},[e._v("药店")]):3===e.tableDatadetail.type?a("div",{staticClass:"fl"},[e._v("销售")]):4===e.tableDatadetail.type?a("div",{staticClass:"fl"},[e._v("代理商")]):e._e()]),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.drug,expression:"drug"}],staticClass:"tc over"},[a("div",{staticClass:"fl"},[e._v("药店名")]),a("div",{staticClass:"fl"},[e._v(e._s(e.tableDatadetail.shop_name))])]),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.saledetail,expression:"saledetail"}],staticClass:"tc over"},[a("div",{staticClass:"fl"},[e._v("售卖的药品")]),e._v(" "),a("div",{staticClass:"fl"},e._l(e.tableDatadetail.agent_products,function(t,i,n){return a("p",{key:n},[e._v(e._s(t.name))])}))]),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.saledetail,expression:"saledetail"}],staticClass:"tc over"},[a("div",{staticClass:"fl"},[e._v("售卖区域地址")]),a("div",{staticClass:"fl"},[e._v(e._s(e.tableDatadetail.region_province)+"-"+e._s(e.tableDatadetail.region_city)+"-"+e._s(e.tableDatadetail.region_district))])]),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.agentdetail,expression:"agentdetail"}],staticClass:"tc over"},[a("div",{staticClass:"fl"},[e._v("代理的药品")]),e._v(" "),a("div",{staticClass:"fl"},e._l(e.tableDatadetail.agent_products,function(t,i,n){return a("p",{key:n},[e._v(e._s(t.name))])}))]),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.agentdetail,expression:"agentdetail"}],staticClass:"tc over"},[a("div",{staticClass:"fl"},[e._v("代理区域")]),a("div",{staticClass:"fl"},[e._v(e._s(e.tableDatadetail.agent_region))])])])]),e._v(" "),a("el-dialog",{attrs:{title:"病例",visible:e.dialogcase,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"50%","border-radius":"8px"},on:{"update:visible":function(t){e.dialogcase=t}}},[a("el-table",[a("el-table-column",{attrs:{property:"sn",label:"批次号"}}),e._v(" "),a("el-table-column",{attrs:{property:"company",label:"厂家"}}),e._v(" "),a("el-table-column",{attrs:{property:"name",label:"药名"}}),e._v(" "),a("el-table-column",{attrs:{property:"price",label:"价格"}})],1),e._v(" "),a("div",{staticClass:"detail_page"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totaldetail},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增病例",visible:e.dialogVisiblecase,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"45%"},on:{"update:visible":function(t){e.dialogVisiblecase=t}},model:{value:e.addTableDatacase.id,callback:function(t){e.$set(e.addTableDatacase,"id",t)},expression:"addTableDatacase.id"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.addTableDatacase,rules:e.rulesale,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"年龄"}},[a("el-input",{attrs:{placeholder:"请输入年龄",maxlength:"3"},model:{value:e.addTableDatacase.age,callback:function(t){e.$set(e.addTableDatacase,"age",t)},expression:"addTableDatacase.age"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-select",{staticStyle:{width:"30%"},attrs:{placeholder:"请选择会员性别"},model:{value:e.addTableDatacase.sex,callback:function(t){e.$set(e.addTableDatacase,"sex",t)},expression:"addTableDatacase.sex"}},[a("el-option",{attrs:{label:"男",value:1}}),e._v(" "),a("el-option",{attrs:{label:"女",value:2}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入备注"},model:{value:e.addTableDatacase.remarks,callback:function(t){e.$set(e.addTableDatacase,"remarks",t)},expression:"addTableDatacase.remarks"}})],1),e._v(" "),a("form",{staticClass:"from-reset relative f_seach",attrs:{model:e.formInline}},[a("div",{staticClass:"from-group form_phone"},[a("el-input",{attrs:{placeholder:"请输入药品名"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),e._v(" "),a("div",{staticClass:"from-group"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.drugseach(!0)}}},[e._v("查询")])],1)]),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData3,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"name",label:"药品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"num",label:"库存","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{attrs:{min:0},on:{change:function(a){e.handlenumber(t.row.id,a)}},model:{value:t.row.num1,callback:function(a){e.$set(t.row,"num1",a)},expression:"scope.row.num1"}})]}}])})],1),e._v(" "),a("div",{staticClass:"detail_page"},[a("el-pagination",{attrs:{"current-page":e.currentPage1,"page-sizes":e.pageSizes,"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalpe},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange1}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelForm("ruleForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.sureLoading},on:{click:function(t){e.submitFormcase("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"查看病例",visible:e.aVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"50%"},on:{"update:visible":function(t){e.aVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableDatalook}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.row.goods}},[a("el-table-column",{attrs:{prop:"product_name",label:"药品名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"product_sum",label:"数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价"}}),e._v(" "),a("el-table-column",{attrs:{prop:"trueprice",label:"总价"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"姓名",prop:"uname",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){return[2==t.row.gender?a("span",[e._v("女")]):1==t.row.gender?a("span",[e._v("男")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"age",align:"age",label:"年龄"}}),e._v(" "),a("el-table-column",{attrs:{prop:"created_time",align:"center",width:"180",label:"日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remarks",align:"center",width:"180",label:"备注"}})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPagebook,"page-sizes":e.pageSizes,"page-size":e.pagesizebook,layout:"total, sizes, prev, pager, next, jumper",total:e.totallook},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChangebook}})],1),e._v(" "),a("el-dialog",{attrs:{title:"经常搜索药品列表",visible:e.aredyVisible,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.aredyVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.durgData}},[a("el-table-column",{attrs:{align:"center",label:"图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.imgurl?a("img",{attrs:{src:t.row.imgurl,width:"100",height:"50"}}):[e._v("无")]]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"药品名",align:"center",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"trueprice",label:"药品价格",align:"center",width:"180"}})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalseach},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"扣积分",visible:e.dialogVisiblepoint,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"35%"},on:{"update:visible":function(t){e.dialogVisiblepoint=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.addTableDatapoint,rules:e.rulesale,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"本次扣除积分"}},[a("el-input",{attrs:{placeholder:"请输入数字",maxlength:"10"},model:{value:e.addTableDatapoint.point,callback:function(t){e.$set(e.addTableDatapoint,"point",t)},expression:"addTableDatapoint.point"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelForm("ruleForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.sureLoading},on:{click:function(t){e.submitFormpoint("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"积分记录",visible:e.CodeVisible,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.CodeVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.codeData}},[a("el-table-column",{attrs:{prop:"pointsum",label:"扣除积分",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"point",label:"剩余积分",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作日期",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.year)+e._s(t.row.month)+e._s(t.row.day))])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalpoint},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"最近一次采购记录",visible:e.BuyaVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"50%","border-radius":"8px"},on:{"update:visible":function(t){e.BuyaVisible=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableDatabuy,border:""}},[a("el-table-column",{attrs:{align:"center",label:"图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.img?a("img",{attrs:{src:t.row.img,width:"100",height:"50"}}):[e._v("无\n                "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.triangle,expression:"triangle"}]},[a("div",{staticClass:"triangle"}),e._v(" "),a("p",{staticClass:"triangle_span"},[e._v(e._s(t.row.label_text))])])]]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"商品",prop:"name",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"价格/元",prop:"price",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"数量",prop:"num",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"规格",prop:"specifications",align:"center"}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"下级",visible:e.LevelVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"50%","border-radius":"8px"},on:{"update:visible":function(t){e.LevelVisible=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableDatalevel,border:""}},[a("el-table-column",{attrs:{label:"昵称",prop:"name",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"下级姓名",prop:"uname",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"电话",prop:"phone",align:"center"}})],1)],1)],1)])},staticRenderFns:[]};var F=a("vSla")(S,L,!1,function(e){a("8gnI")},null,null).exports,z={data:function(){return{currentPage:1,pageSizes:[10],pagesize:10,selectData:[],total:0,tableData:[],addManagerVisible:!1,imageUrl:"",state:1,sureLoading:!1,addTableData:{url:"",state:1,imageUrl:"",aid:""},forid:""}},activated:function(){this.getList()},methods:{formImageChange:function(e,t){var a=this;this.forid=1,this.imageUrl=URL.createObjectURL(e.raw);var i=new FormData;i.append("image",e.raw),i.append("dic","other"),this.$axios.post(d+"/admin/upload/index",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var t=e.data;t.err>0?(a.addTableData.image=t.data,a.$Notice.success({title:t.message})):(a.loading=!1,a.$Notice.warning({title:t.message}))})},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},handleSizeChange:function(e){this.pagesize=e,this.getList()},handleCurrentChange:function(e){this.currentPage=e,this.getList()},add:function(){this.imageUrl="",this.addTableData={url:"",state:1,imageUrl:"",aid:"-1"},this.addManagerVisible=!0},editor:function(e,t,a){this.addManagerVisible=!0,this.sureLoading=!1,this.addTableData=C()({},a[e]),this.imageUrl=a[e].img},getList:function(){var e=this;this.$axios.post(d+"/admin/systemsets/banner_or_ad_set",r.a.stringify({tag:"banner_config",op:"get"}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){var a=t.data;a.err>0?(e.tableData=a.data.list,e.total=a.data.total):e.loading=!1}).catch(function(){this.$Notice.error({title:"请求失败，请重试"})})},submitForm:function(){var e=this,t=this;if(this.sureLoading=!0,"-1"===t.addTableData.aid){var a=new FormData;a.append("tag","banner_config"),a.append("op","add"),a.append("data[url]",t.addTableData.url),a.append("data[title]",t.addTableData.title),a.append("data[state]",t.addTableData.state),a.append("data[img]",d+t.addTableData.image),this.$axios.post(d+"/admin/systemsets/banner_or_ad_set",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){var i=a.data;i.err>0?(e.getList(),e.sureLoading=!1,e.addManagerVisible=!1,t.$Notice.success({title:i.message})):(e.sureLoading=!1,t.$Notice.warning({title:i.message}))}).catch(function(){t.$Notice.error({title:"请求失败，请重试"})})}else{var i=new FormData;i.append("tag","banner_config"),i.append("op","update"),i.append("data[url]",t.addTableData.url),i.append("data[title]",t.addTableData.title),i.append("data[state]",t.addTableData.state),i.append("data[id]",t.addTableData.id),1===this.forid?i.append("data[img]",d+t.addTableData.image):i.append("data[img]",t.addTableData.image),this.$axios.post(d+"/admin/systemsets/banner_or_ad_set",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){var i=a.data;i.err>0?(e.getList(),e.sureLoading=!1,e.addManagerVisible=!1,t.$Notice.success({title:i.message})):(e.sureLoading=!1,t.$Notice.warning({title:i.message}))}).catch(function(){t.$Notice.error({title:"请求失败，请重试"})})}},deleted:function(e,t,a){this.addTableData=C()({},t[e]);var i=this;i.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e={tag:"banner_config",op:"state",data:{id:a,state:0}};i.$axios.post(d+"/admin/systemsets/banner_or_ad_set",r.a.stringify(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var t=e.data;t.err>0?(i.getList(),i.$message({type:"success",message:"删除成功!"})):i.$notify({title:"提示",message:t.data.message,type:"warning"})}).catch(function(){i.$Notice.error({title:"请求失败，请重试"})})})},changeState:function(e,t,a,i){this.addTableData=C()({},t[e]);var n=this,l={tag:"banner_config",op:"state",data:{id:a,state:i=1===i?2:1}};n.$axios.post(d+"/admin/systemsets/banner_or_ad_set",r.a.stringify(l),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var t=e.data;t.err>0?(n.getList(),n.$message({type:"success",message:t.message})):n.$notify({title:"提示",message:t.message,type:"warning"})}).catch(function(){n.$Notice.error({title:"请求失败，请重试"})})}}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main_content"},[a("div",{staticClass:"main-title relative"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("banner列表")])],1),e._v(" "),a("div",{staticClass:"main-panle"},[a("form",{staticClass:"from-reset relative"},[a("div",{staticClass:"from-group"},[a("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("新增")])],1)])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{align:"center",label:"图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.img?a("img",{attrs:{src:t.row.img,width:"150",height:"100"}}):[e._v("无")]]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题"}}),e._v(" "),a("el-table-column",{attrs:{prop:"url",label:"跳转地址"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:"1"==t.row.state?"tag_success":"tag_danger",on:{click:function(a){e.changeState(t.$index,e.tableData,t.row.id,t.row.state)}}},[e._v(e._s("1"==t.row.state?"启用":"禁用")+"\n            ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("button",{staticClass:"el-button el-button--default el-button--small",attrs:{type:"button"},on:{click:function(a){e.editor(t.$index,t.row.id,e.tableData)}}},[a("span",[e._v("编辑")])]),e._v(" "),a("button",{staticClass:"el-button el-button--danger el-button--small",attrs:{type:"button"},on:{click:function(a){e.deleted(t.$index,e.tableData,t.row.id)}}},[a("span",[e._v("删除")])])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"-1"===e.addTableData.aid?"新增banner":"修改banner","close-on-click-modal":!1,"close-on-press-escape":!1,width:"500px",visible:e.addManagerVisible},on:{"update:visible":function(t){e.addManagerVisible=t}},model:{value:e.addTableData.id,callback:function(t){e.$set(e.addTableData,"id",t)},expression:"addTableData.id"}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.addTableData,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.addTableData.title,callback:function(t){e.$set(e.addTableData,"title",t)},expression:"addTableData.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"跳转地址"}},[a("el-input",{attrs:{placeholder:"请输入跳转地址"},model:{value:e.addTableData.url,callback:function(t){e.$set(e.addTableData,"url",t)},expression:"addTableData.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"封面图片"}},[a("el-upload",{staticClass:"avatar-uploader avatar-uploader_356x178 avatar-uploader_contain",attrs:{id:"el-upload1",action:"11111","show-file-list":!1,"on-change":e.formImageChange,"auto-upload":!1,"on-success":e.handleAvatarSuccess}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{staticStyle:{width:"50%"},model:{value:e.addTableData.state,callback:function(t){e.$set(e.addTableData,"state",t)},expression:"addTableData.state"}},[a("el-option",{attrs:{label:"启用",value:1}}),e._v(" "),a("el-option",{attrs:{label:"禁用",value:2}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addManagerVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.sureLoading},on:{click:function(t){e.submitForm()}}},[e._v("提 交")])],1)],1)],1)])},staticRenderFns:[]},I=a("vSla")(z,N,!1,null,null,null).exports,V={data:function(){return{currentPage:1,pageSizes:[10],pagesize:10,selectData:[],total:0,tableData:[],addManagerVisible:!1,state:1,sureLoading:!1,imageUrl:"",addTableData:{url:"",state:1,imageUrl:"",aid:""},forid:"",restaurants:[]}},activated:function(){this.getList()},methods:{querySearch:function(e,t){var a=this,i={tag:"member",op:"getuserbyphone",condition:{phone:this.state2}};this.$axios.post(d+"/admin/member/index",r.a.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(i){var n=i.data;if(n.err>0){var l=n.data.map(function(e){e.phone,e.name,e.num1;return{value:e.phone}}),s=e?l.filter(a.createFilter(e)):l;t(s)}})},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){console.log(e.value)},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},handleSizeChange:function(e){this.pagesize=e,this.getList()},handleCurrentChange:function(e){this.currentPage=e,this.getList()},getList:function(){var e=this;this.$axios.post(d+"/admin/systemsets/banner_or_ad_set",r.a.stringify({tag:"ad_config",op:"get"}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){var a=t.data;a.err>0?(e.tableData=a.data.list,e.total=a.data.total):e.loading=!1}).catch(function(){this.$Notice.error({title:"请求失败，请重试"})})}}},M={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main_content"},[a("div",{staticClass:"main-title relative"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("广告列表")])],1),e._v(" "),a("div",{staticClass:"main-panle"},[a("form",{staticClass:"from-reset relative"},[a("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容","trigger-on-focus":!1},on:{select:e.handleSelect},model:{value:e.state2,callback:function(t){e.state2=t},expression:"state2"}}),e._v(" "),a("div",{staticClass:"from-group"})],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{align:"center",label:"图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.img?a("img",{attrs:{src:t.row.img,width:"150",height:"100"}}):[e._v("无")]]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"url",label:"跳转地址",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"}})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},staticRenderFns:[]},U=a("vSla")(V,M,!1,null,null,null).exports,E={name:"list",components:{UE:k},data:function(){return{editor:"",defaultMsg:"",defaultMsgName:"",abb:"",config:{initialFrameWidth:null,initialFrameHeight:350},info:{name:"",integral:"",money:"",limit:"",logo:null,guide:"",about:""},imageUrl:"",isshow:!0,loading:null,currentPage:1,pageSizes:[10],pagesize:10,tableData:[],total:0,sureLoading:!1,aid:"",formInline:{name:"",sn:"",enddate:""},dialogVisible:!1,dialogTableVisible:!1,addTableData:{name:"",aid:"",imgurl:"",imageUrl:"",company:"",specifications:"",price:"",sn:"",period:"",enddate:"",sta_goods:1,status:1,tag:!1},rules:{name:[{required:!0,message:"请输入药品名称",trigger:"blur"}],company:[{required:!0,message:"请输入公司",trigger:"blur"}],specifications:[{required:!0,message:"请输入规格",trigger:"blur"}],price:[{required:!0,message:"请输入价格",trigger:"blur"}],sn:[{required:!0,message:"请输入批次号",trigger:"blur"}],period:[{required:!0,message:"请输入药品保质期",trigger:"blur"}],enddate:[{required:!0,message:"请选择药品到期日期",trigger:"blur"}]}}},activated:function(){this.getList()},methods:{formImageChange:function(e,t){var a=this;this.abb=1,this.imageUrl=URL.createObjectURL(e.raw);var i=new FormData;i.append("image",e.raw),i.append("dic","product"),this.$axios.post(d+"/admin/upload/index",i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var t=e.data;t.err>0?(a.addTableData.imgurl=t.data,a.$Notice.success({title:t.message})):(a.loading=!1,a.$Notice.warning({title:t.message}))})},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024<100;return t||this.$Notice.error({title:"上传头像图片只能是 JPG 格式!"}),a||this.$Notice.error({title:"上传头像图片大小不符"}),t&&a},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},cancelForm:function(e){this.dialogVisible=!1,this.$refs[e].resetFields()},submitForm:function(e){var t=this,a=this;a.$refs[e].validate(function(e){if(!e)return!1;if(t.sureLoading=!0,!0===t.addTableData.tag?t.addTableData.tag=1:t.addTableData.tag=0,"-1"===a.addTableData.aid){var i={tag:"product",op:"add",data:{name:t.addTableData.name,company:t.addTableData.company,specifications:t.addTableData.specifications,price:t.addTableData.price,trueprice:t.addTableData.trueprice,sn:t.addTableData.sn,period:t.addTableData.period,enddate:t.addTableData.enddate,sta_goods:t.addTableData.sta_goods,status:t.addTableData.status,imgurl:t.addTableData.imgurl,remarks:"",detail:t.$refs.ue.getUEContent(),tag:t.addTableData.tag}};t.$axios.post(d+"/admin/product/index",r.a.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var i=e.data;i.err>0?(t.getList(),t.dialogVisible=!1,t.sureLoading=!1,a.$Notice.success({title:i.message})):(t.sureLoading=!1,a.$Notice.warning({title:i.message}))}).catch(function(){a.$Notice.error({title:"请求失败，请重试"})})}else{var n={tag:"product",op:"update",condition:{id:t.addTableData.id},data:{name:t.addTableData.name,company:t.addTableData.company,specifications:t.addTableData.specifications,price:t.addTableData.price,trueprice:t.addTableData.trueprice,sn:t.addTableData.sn,period:t.addTableData.period,enddate:t.addTableData.enddate,sta_goods:t.addTableData.sta_goods,status:t.addTableData.status,imgurl:t.addTableData.imgurl,tag:t.addTableData.tag,remarks:"",detail:t.$refs.ue.getUEContent()}};t.$axios.post(d+"/admin/product/index",r.a.stringify(n),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var i=e.data;i.err>0?(t.getList(),t.dialogVisible=!1,t.sureLoading=!1):(t.sureLoading=!1,a.$Notice.warning({title:i.message}))}).catch(function(){a.$Notice.error({title:"请求失败，请重试"})})}})},add:function(e){this.dialogVisible=!0,this.imageUrl="",this.addTableData={name:"",aid:"-1",imageUrl:"",imgurl:"",company:"",specifications:"",price:"",sn:"",period:"",enddate:"",sta_goods:1,status:1,tag:!1},this.$refs[e].resetFields(),this.defaultMsg="",this.abb=""},editorlist:function(e,t,a,i){this.abb="",this.dialogVisible=!0,this.addTableData=C()({},a[e]),this.imageUrl=a[e].imgurl,this.defaultMsg=a[e].detail||"",this.sureLoading=!1,this.$refs[i].resetFields(),1===a[e].tag?this.addTableData.tag=!0:this.addTableData.tag=!1},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e,this.getList()},getList:function(e){var t=this,a=this;e&&(this.currentPage=1);var i=this.currentPage,n={tag:"product",op:"getlist",condition:{name:this.formInline.name,sn:this.formInline.sn,enddate:this.formInline.enddate}};this.$axios.post(d+"/admin/product/index?limit=10&page="+i,r.a.stringify(n),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.tableData=a.data.list,t.total=a.data.total,t.loading=!1):t.loading=!1}).catch(function(){a.$Notice.error({title:"请求失败，请重试"})})},detail:function(){this.dialogTableVisible=!0},deleted:function(e){var t=this;t.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={tag:"product",op:"state",condition:{id:e},data:{status:"0"}};t.$axios.post(d+"/admin/product/index",r.a.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.getList(),t.$message({type:"success",message:"删除成功!"})):t.$notify({title:"提示",message:a.data.message,type:"warning"})}).catch(function(){t.$Notice.error({title:"请求失败，请重试"})})})},changeState:function(e,t){var a=this,i={tag:"product",op:"state",condition:{id:e},data:{status:t=1===t?2:1}};a.$axios.post(d+"/admin/product/index",r.a.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var t=e.data;t.err>0?(a.getList(),a.$message({type:"success",message:t.message})):a.$notify({title:"提示",message:t.message,type:"warning"})}).catch(function(){a.$Notice.error({title:"请求失败，请重试"})})}}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main_content"},[a("div",{staticClass:"main-title relative"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"../dashboard"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("药品列表")])],1),e._v(" "),a("div",{staticClass:"main-panle"},[a("form",{staticClass:"from-reset relative",attrs:{model:e.formInline}},[a("div",{staticClass:"from-group"},[a("el-input",{attrs:{placeholder:"请输入药品名",clearable:""},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),e._v(" "),a("div",{staticClass:"from-group from_number"},[a("el-input",{attrs:{placeholder:"请输入批次号",clearable:""},model:{value:e.formInline.sn,callback:function(t){e.$set(e.formInline,"sn",t)},expression:"formInline.sn"}})],1),e._v(" "),a("div",{staticClass:"from-group"},[a("el-date-picker",{attrs:{"default-time":"00:00:00","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择到期日期"},model:{value:e.formInline.enddate,callback:function(t){e.$set(e.formInline,"enddate",t)},expression:"formInline.enddate"}})],1),e._v(" "),a("div",{staticClass:"from-group"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.getList(!0)}}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"from-group"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.add("ruleForm")}}},[e._v("新增")])],1)])]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{staticClass:"picture_drug",attrs:{align:"center",label:"图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.imgurl?a("img",{attrs:{src:t.row.imgurl,width:"100",height:"80"}}):[e._v("无")]]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"company",label:"厂家"}}),e._v(" "),a("el-table-column",{attrs:{label:"药品名",prop:"name",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{width:"150",label:"批次号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticClass:"dtail_number",on:{click:function(a){e.detail(t.row.id)}}},[e._v(e._s(t.row.sn))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"price",label:"价格"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"specifications",label:"规格"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"enddate",label:"到期时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:"1"==t.row.status?"tag_success":"tag_danger",on:{click:function(a){e.changeState(t.row.id,t.row.status)}}},[e._v(e._s("1"==t.row.status?"上架":"下架")+"\n            ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"180",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("button",{staticClass:"el-button el-button--default el-button--small",attrs:{type:"button"},on:{click:function(a){e.editorlist(t.$index,t.row.id,e.tableData,"ruleForm")}}},[a("span",[e._v("编辑")])]),e._v(" "),a("button",{staticClass:"el-button el-button--danger el-button--small",attrs:{type:"button"},on:{click:function(a){e.deleted(t.row.id)}}},[a("span",[e._v("删除")])])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"-1"===e.addTableData.aid?"新增药品":"修改药品","close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.dialogVisible,width:"35%"},on:{"update:visible":function(t){e.dialogVisible=t}},model:{value:e.addTableData.id,callback:function(t){e.$set(e.addTableData,"id",t)},expression:"addTableData.id"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.addTableData,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"药品名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入药品名称"},model:{value:e.addTableData.name,callback:function(t){e.$set(e.addTableData,"name",t)},expression:"addTableData.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"药品图片"}},[a("el-upload",{staticClass:"avatar-uploader avatar-uploader_356x178 avatar-uploader_contain",attrs:{id:"el-upload1",action:"11111","show-file-list":!1,"on-change":e.formImageChange,"auto-upload":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"公司名称",prop:"company"}},[a("el-input",{attrs:{placeholder:"请输入所在公司名"},model:{value:e.addTableData.company,callback:function(t){e.$set(e.addTableData,"company",t)},expression:"addTableData.company"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"规格",prop:"specifications"}},[a("el-input",{attrs:{placeholder:"请输入药品规格"},model:{value:e.addTableData.specifications,callback:function(t){e.$set(e.addTableData,"specifications",t)},expression:"addTableData.specifications"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"原价/元",prop:"price"}},[a("el-input",{attrs:{placeholder:"请输入药品价格"},model:{value:e.addTableData.price,callback:function(t){e.$set(e.addTableData,"price",t)},expression:"addTableData.price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折后价/元"}},[a("el-input",{attrs:{placeholder:"请输入药品价格"},model:{value:e.addTableData.trueprice,callback:function(t){e.$set(e.addTableData,"trueprice",t)},expression:"addTableData.trueprice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"批次号",prop:"sn"}},[a("el-input",{attrs:{placeholder:"请输入药品批次号"},model:{value:e.addTableData.sn,callback:function(t){e.$set(e.addTableData,"sn",t)},expression:"addTableData.sn"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设为推荐药品"}},[a("el-checkbox",{model:{value:e.addTableData.tag,callback:function(t){e.$set(e.addTableData,"tag",t)},expression:"addTableData.tag"}},[e._v("推荐药品")])],1),e._v(" "),a("el-form-item",{attrs:{label:"保质期/月",prop:"period"}},[a("el-input",{attrs:{placeholder:"请输入药品保质期"},model:{value:e.addTableData.period,callback:function(t){e.$set(e.addTableData,"period",t)},expression:"addTableData.period"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"到期日期",prop:"enddate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择药品到期日期"},model:{value:e.addTableData.enddate,callback:function(t){e.$set(e.addTableData,"enddate",t)},expression:"addTableData.enddate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品状态"}},[a("el-select",{staticStyle:{width:"50%"},model:{value:e.addTableData.sta_goods,callback:function(t){e.$set(e.addTableData,"sta_goods",t)},expression:"addTableData.sta_goods"}},[a("el-option",{attrs:{label:"普通",value:1}},[e._v("普通")]),e._v(" "),a("el-option",{attrs:{label:"折扣",value:2}},[e._v("折扣")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{staticStyle:{width:"50%"},model:{value:e.addTableData.status,callback:function(t){e.$set(e.addTableData,"status",t)},expression:"addTableData.status"}},[a("el-option",{attrs:{label:"上架",value:1}}),e._v(" "),a("el-option",{attrs:{label:"下架",value:2}})],1)],1),e._v(" "),a("div",{staticClass:"detail"},[e._v("详情")]),e._v(" "),e.dialogVisible?a("UE",{ref:"ue",staticClass:"ueeclsjdf",attrs:{defaultMsg:e.defaultMsg,config:e.config}}):e._e()],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelForm("ruleForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.sureLoading},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var j=a("vSla")(E,P,!1,function(e){a("KGWn")},null,null).exports,B={data:function(){return{currentPage:1,currentPage1:1,currentPage2:1,pageSizes:[10],pagesize:10,pageSizes2:[10],pagesize2:10,tableData:[],tableDatadetail:[],tableDatatwo:[],totalpe:0,total:0,totaldetail:0,loading:!0,sureLoading:!1,numberphone:!1,shoplist:!1,goodshow:!1,classA:!1,classB:!0,aid:"",formInline:{order_id:"",phone:"",status:"",create_date:""},dialogVisible:!1,dialogdetail:!1,dialogpayment:!1,addTableData:{namephone:"",phone:"",name:"",aid:"",stock:"",company:"",specifications:"",price:"",sn:"",period:"",enddate:"",sta_goods:1,status:1,remark:"",tag:""},paymentTableData:{remark:""},tableDataone:[],tableData3:[],num:1,pp:"",va:"",totalmoney:"",arrayFilter:[]}},activated:function(){this.getList()},methods:{detail:function(e){var t=this,a={tag:"order",op:"getone",condition:{id:e},data:{status:1}},i=this.currentPage2;this.dialogdetail=!0,this.$axios.post(d+"/admin/order/index?limit=10&page="+i,r.a.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.tableDatadetail=a.data.goodsinfo.list,t.totaldetail=a.data.goodsinfo.total):t.loading=!1})},handleCommand:function(e,t,a){this.pointid=e,this.dialogpayment=!0,"a"===t?this.state="2":"c"===t?this.state="3":"d"===t?this.state="4":"e"===t?this.state="5":"f"===t?this.state="6":"g"===t&&(this.state="7")},handlenumber:function(e,t){e.totalmoney=Math.floor(e.price*t*100)/100;var a=this.tableData3.map(function(e){var t=e.id,a=(e.num1,e.price);return{id:t,num:e.num1,price:a}});this.arrayFilter=a.filter(function(e){return 0!==e.num})},surenumber:function(){var e=this;if(""!==this.addTableData.phone&&null!==this.addTableData.phone&&void 0!==this.addTableData.phone){var t={tag:"member",op:"getlist",condition:{phone:this.addTableData.phone}};this.$axios.post(d+"/admin/member/index",r.a.stringify(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){var a=t.data;a.err>0?(e.tableDataone=a.data.list,e.numberphone=!0,e.recoverid=a.data.list[0].id):(e.numberphone=!1,e.$Notice.warning({title:a.message}))})}else this.$Notice.warning({title:"电话号码不能为空"})},drugseach:function(e){var t=this;e&&(this.currentPage=1);var a={tag:"member",op:"getmemberproduct",condition:{id:this.listid}};this.$axios.post(d+"/admin/member/index",r.a.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.tableData3=a.data.list,t.tableData3.map(function(e,a){t.$set(e,"num1",0),t.$set(e,"totalmoney",0),e.final=e.default+e.num1}),t.totalpe=a.data.total,t.loading=!1):(t.loading=!1,t.tableData3=[],t.totalpe=0,t.$Notice.warning({title:a.message}))})},goodsumber:function(){var e=this;if(""!==this.addTableData.namephone&&null!==this.addTableData.namephone&&void 0!==this.addTableData.namephone){var t={tag:"member",op:"getlist",condition:{phone:this.addTableData.namephone}};this.$axios.post(d+"/admin/member/index",r.a.stringify(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){var a=t.data;a.err>0?(e.tableDatatwo=a.data.list,e.listid=a.data.list[0].id,e.goodshow=!0,e.drugseach()):(e.goodshow=!1,e.$Notice.warning({title:a.message}))})}else this.$Notice.warning({title:"电话号码不能为空"})},add:function(e){this.dialogVisible=!0,this.goodshow=!1,this.numberphone=!1,this.addTableData={name:"",aid:"-1",stock:"",company:"",specifications:"",price:"",sn:"",period:"",enddate:"",sta_goods:1,status:1,remarks:"",tag:"",num:1},this.tableDatatwo=[]},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e,this.getList()},handleCurrentChange1:function(e){this.currentPage1=e,this.getList()},handleSizeChange2:function(e){this.pagesize2=e},handleCurrentChange2:function(e){this.currentPage2=e,this.getList()},getList:function(e){var t=this,a=this;e&&(this.currentPage=1);var i={tag:"order",op:"getlist",condition:{order_id:this.formInline.order_id,phone:this.formInline.phone,status:"",create_date:this.formInline.create_date}};5===this.formInline.status?i.condition.status="":i.condition.status=this.formInline.status,this.$axios.post(d+"/admin/order/index",r.a.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.tableData=a.data.list,t.total=a.data.total,t.loading=!1):(t.tableData=[],t.loading=!1)}).catch(function(){a.$Notice.error({title:"请求失败，请重试"})})},cancelForm:function(e){this.dialogVisible=!1,this.dialogpayment=!1,this.$refs[e].resetFields()},submitForm:function(e){var t=this,a=this;this.sureLoading=!0;var i={tag:"order",op:"add",data:{member_id:this.recoverid,to_id:this.listid,goods:this.arrayFilter}};this.$axios.post(d+"/admin/order/index",r.a.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var i=e.data;i.err>0?(t.getList(),t.dialogVisible=!1,t.sureLoading=!1,a.$Notice.success({title:i.message})):(t.sureLoading=!1,a.$Notice.warning({title:i.message}))}).catch(function(){a.$Notice.error({title:"请求失败，请重试"})})},submitpayment:function(){var e=this,t=this,a={tag:"order",op:"state",condition:{id:this.pointid},data:{status:this.state,remark:this.paymentTableData.remark}};t.$axios.post(d+"/admin/order/index",r.a.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){var i=a.data;i.err>0?(t.getList(),e.dialogpayment=!1,t.$Notice.success({title:i.message})):t.$Notice.warning({title:i.message})})},deleted:function(e){var t=this;t.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={tag:"order",op:"state",condition:{id:e},data:{status:"0",remark:""}};t.$axios.post(d+"/admin/order/index",r.a.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.getList(),t.$Notice.success({title:a.message})):t.$Notice.warning({title:a.message})})})},changeState:function(e,t){var a=this,i={tag:"product",op:"state",condition:{id:e},data:{status:t=1===t?2:1}};a.$axios.post(d+"/admin/product/index",r.a.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var t=e.data;t.err>0?(a.getList(),a.$message({type:"success",message:t.message})):a.$notify({title:"提示",message:t.message,type:"warning"})}).catch(function(){a.$Notice.error({title:"请求失败，请重试"})})}}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main_content"},[a("div",{staticClass:"main-title relative"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"../dashboard"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("订单列表")])],1),e._v(" "),a("div",{staticClass:"main-panle"},[a("form",{staticClass:"from-reset relative",attrs:{model:e.formInline}},[a("div",{staticClass:"from-group",staticStyle:{width:"150px"}},[a("el-input",{attrs:{placeholder:"请输入订单号"},model:{value:e.formInline.order_id,callback:function(t){e.$set(e.formInline,"order_id",t)},expression:"formInline.order_id"}})],1),e._v(" "),a("div",{staticClass:"from-group form_phone"},[a("el-input",{attrs:{placeholder:"请输入电话号码"},model:{value:e.formInline.phone,callback:function(t){e.$set(e.formInline,"phone",t)},expression:"formInline.phone"}})],1),e._v(" "),a("div",{staticClass:"from-group",staticStyle:{width:"110px"}},[a("el-select",{attrs:{placeholder:"订单状态"},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},[a("el-option",{attrs:{label:"所有",value:8}}),e._v(" "),a("el-option",{attrs:{label:"受理",value:2}}),e._v(" "),a("el-option",{attrs:{label:"付款",value:3}}),e._v(" "),a("el-option",{attrs:{label:"驳回",value:4}}),e._v(" "),a("el-option",{attrs:{label:"挂单",value:5}}),e._v(" "),a("el-option",{attrs:{label:"发货",value:6}}),e._v(" "),a("el-option",{attrs:{label:"收货",value:7}})],1)],1),e._v(" "),a("div",{staticClass:"from-group",staticStyle:{width:"150px"}},[a("el-date-picker",{attrs:{width:"80","default-time":"00:00:00","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.formInline.create_date,callback:function(t){e.$set(e.formInline,"create_date",t)},expression:"formInline.create_date"}})],1),e._v(" "),a("div",{staticClass:"from-group"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.getList(!0)}}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"from-group"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.add("ruleForm")}}},[e._v("新增")])],1)])]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{width:"150",label:"订单号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticClass:"dtail_number",on:{click:function(a){e.detail(t.row.order_id)}}},[e._v(e._s(t.row.order_id))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"电话号码",prop:"phone",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"total_fee",label:"订单总价格/元"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"create_date",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?a("p",[e._v("已删除")]):1==t.row.status?a("p",[e._v("待受理")]):2==t.row.status?a("p",[e._v("已受理")]):3==t.row.status?a("p",{staticClass:"enable"},[e._v("已付款")]):4==t.row.status?a("p",{staticClass:"disable"},[e._v("已驳回")]):5==t.row.status?a("p",{staticClass:"orange"},[e._v("已挂单")]):6==t.row.status?a("p",{staticClass:"disable"},[e._v("已发货")]):7==t.row.status?a("p",{staticClass:"disable"},[e._v("已收货")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"220",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-dropdown",{staticClass:"el_more",on:{command:function(a){e.handleCommand(t.row.order_id,a,t.row.type)}}},[a("span",{staticClass:"el-dropdown-link"},[e._v("\n                  更多"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[1===t.row.status?a("div",[a("el-dropdown-item",{attrs:{command:"a"}},[e._v("受理")])],1):e._e(),e._v(" "),2===t.row.status?a("div",[a("el-dropdown-item",{attrs:{command:"c"}},[e._v("付款")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"d"}},[e._v("驳回")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"e"}},[e._v("挂单")])],1):e._e(),e._v(" "),3===t.row.status?a("div",[a("el-dropdown-item",{attrs:{command:"f"}},[e._v("发货")])],1):e._e(),e._v(" "),4===t.row.status?a("div",[a("el-dropdown-item",{attrs:{command:"h"}},[e._v("暂无")])],1):e._e(),e._v(" "),5===t.row.status?a("div",[a("el-dropdown-item",{attrs:{command:"f"}},[e._v("发货")])],1):e._e(),e._v(" "),6===t.row.status?a("div",[a("el-dropdown-item",{attrs:{command:"g"}},[e._v("收货")])],1):e._e()])],1),e._v(" "),a("button",{staticClass:"el-button el-button--danger el-button--small",attrs:{type:"button"},on:{click:function(a){e.deleted(t.row.order_id)}}},[a("span",[e._v("删除")])])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"-1"===e.addTableData.aid?"新增订单":"修改订单","close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}},model:{value:e.addTableData.id,callback:function(t){e.$set(e.addTableData,"id",t)},expression:"addTableData.id"}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.addTableData,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"收货人电话",maxlength:"11"}},[a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入电话号码",maxlength:"11"},model:{value:e.addTableData.phone,callback:function(t){e.$set(e.addTableData,"phone",t)},expression:"addTableData.phone"}}),e._v(" "),a("el-button",{staticClass:"surephone",attrs:{size:"small"},on:{click:e.surenumber}},[e._v("确认")])],1),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.numberphone,expression:"numberphone"}],staticStyle:{width:"100%"},attrs:{data:e.tableDataone}},[a("el-table-column",{attrs:{label:"昵称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.name))])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"电话号码",prop:"phone"}}),e._v(" "),a("el-table-column",{attrs:{label:"地址",prop:"address"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.numberphone,expression:"numberphone"}],staticClass:"busines",attrs:{label:"发货人电话",maxlength:"11"}},[a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入电话号码",maxlength:"11"},model:{value:e.addTableData.namephone,callback:function(t){e.$set(e.addTableData,"namephone",t)},expression:"addTableData.namephone"}}),e._v(" "),a("el-button",{staticClass:"surephone",attrs:{size:"small"},on:{click:e.goodsumber}},[e._v("确认")])],1),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.goodshow,expression:"goodshow"}],staticStyle:{width:"100%"},attrs:{data:e.tableDatatwo}},[a("el-table-column",{attrs:{label:"昵称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.name))])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"电话号码",prop:"phone"}}),e._v(" "),a("el-table-column",{attrs:{label:"地址",prop:"address"}})],1),e._v(" "),a("form",{directives:[{name:"show",rawName:"v-show",value:e.goodshow,expression:"goodshow"}],staticClass:"from-reset relative f_seach d_seach",attrs:{model:e.formInline}},[a("div",{staticClass:"from-group form_dugr"},[a("el-input",{attrs:{placeholder:"请输入药品名"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),e._v(" "),a("div",{staticClass:"from-group"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.drugseach(!0)}}},[e._v("查询")])],1)]),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.goodshow,expression:"goodshow"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData3,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"name",label:"药品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"num",label:"库存","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"总金额","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"red"},[e._v(e._s(t.row.totalmoney))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"180",label:"数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{attrs:{min:0},on:{change:function(a){e.handlenumber(t.row,a)}},model:{value:t.row.num1,callback:function(a){e.$set(t.row,"num1",a)},expression:"scope.row.num1"}})]}}])})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.goodshow,expression:"goodshow"}],staticClass:"detail_page"},[a("el-pagination",{attrs:{"current-page":e.currentPage1,"page-sizes":e.pageSizes,"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalpe},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange1}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-cons",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelForm("ruleForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.sureLoading},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"操作备注",visible:e.dialogpayment,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"35%"},on:{"update:visible":function(t){e.dialogpayment=t}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.paymentTableData,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入此次操作的备注"},model:{value:e.paymentTableData.remark,callback:function(t){e.$set(e.paymentTableData,"remark",t)},expression:"paymentTableData.remark"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelForm("ruleForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.sureLoading},on:{click:function(t){e.submitpayment("ruleForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"订单详情",visible:e.dialogdetail,width:"45%"},on:{"update:visible":function(t){e.dialogdetail=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","margin-top":"15px"},attrs:{data:e.tableDatadetail,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"company",label:"药店"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"name",label:"药品"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"num",label:"数量"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"trueprice",label:"单价/元"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"totalprice",label:"总价/元"}})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage2,"page-sizes":e.pageSizes2,"page-size":e.pagesize2,layout:"total, sizes, prev, pager, next, jumper",total:e.totaldetail},on:{"size-change":e.handleSizeChange2,"current-change":e.handleCurrentChange2}})],1)],1)])},staticRenderFns:[]},q=a("vSla")(B,R,!1,null,null,null).exports,O={name:"list",components:{UE:k},data:function(){return{editor:"",defaultMsg:"",defaultMsgName:"",abb:"",config:{initialFrameWidth:null,initialFrameHeight:350},info:{name:"",integral:"",money:"",limit:"",logo:null,guide:"",about:""},isshow:!0,loading:null,currentPage:1,pageSizes:[10],pagesize:10,tableData:[],total:0,sureLoading:!1,aid:"",dialogVisible:!1,dialogTableVisible:!1,addTableData:{title:"",aid:"",text:"",status:1}}},activated:function(){this.getList()},methods:{cancelForm:function(e){this.dialogVisible=!1},editorlist:function(e,t,a,i){this.dialogVisible=!0,this.addTableData=C()({},a[e]),this.defaultMsg=a[e].text||"",this.sureLoading=!1},submitForm:function(e){var t=this,a=this;if(this.sureLoading=!0,"-1"===a.addTableData.aid){var i={tag:"news",op:"add",data:{title:this.addTableData.title,status:this.addTableData.status,text:this.$refs.ue.getUEContent()}};this.$axios.post(d+"/admin/news/index",r.a.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var i=e.data;i.err>0?(t.getList(),t.dialogVisible=!1,t.sureLoading=!1,a.$Notice.success({title:i.message})):(t.sureLoading=!1,a.$Notice.warning({title:i.message}))}).catch(function(){a.$Notice.error({title:"请求失败，请重试"})})}else{var n={tag:"news",op:"update",condition:{id:this.addTableData.id},data:{title:this.addTableData.title,status:this.addTableData.status,text:this.$refs.ue.getUEContent()}};this.$axios.post(d+"/admin/news/index",r.a.stringify(n),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var i=e.data;i.err>0?(t.getList(),t.dialogVisible=!1,t.sureLoading=!1,a.$Notice.success({title:i.message})):(t.sureLoading=!1,a.$Notice.warning({title:i.message}))})}},add:function(e){this.dialogVisible=!0,this.addTableData={aid:"-1",title:"",text:"",status:1},this.defaultMsg=""},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e,this.getList()},getList:function(e){var t=this,a=this;e&&(this.currentPage=1);this.$axios.post(d+"/admin/news/index",r.a.stringify({tag:"news",op:"getlist",condition:{status:""}}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.tableData=a.data.list,t.total=a.data.total,t.loading=!1):t.loading=!1}).catch(function(){a.$Notice.error({title:"请求失败，请重试"})})},deleted:function(e){var t=this;t.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={tag:"news",op:"state",condition:{id:e},data:{status:"0"}};t.$axios.post(d+"/admin/news/index",r.a.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.getList(),t.$message({type:"success",message:"删除成功!"})):t.$notify({title:"提示",message:a.data.message,type:"warning"})}).catch(function(){t.$Notice.error({title:"请求失败，请重试"})})})},changeState:function(e,t){var a=this,i={tag:"news",op:"state",condition:{id:e},data:{status:t=1===t?2:1}};a.$axios.post(d+"/admin/news/index",r.a.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var t=e.data;t.err>0?(a.getList(),a.$message({type:"success",message:t.message})):a.$notify({title:"提示",message:t.message,type:"warning"})}).catch(function(){a.$Notice.error({title:"请求失败，请重试"})})}}},A={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main_content"},[a("div",{staticClass:"main-title relative"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"../dashboard"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("文章咨询")])],1),e._v(" "),a("div",{staticClass:"main-panle"},[a("form",{staticClass:"from-reset relative"},[a("div",{staticClass:"from-group"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.add("ruleForm")}}},[e._v("新增")])],1)])]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"title",label:"标题"}}),e._v(" "),a("el-table-column",{attrs:{label:"发表日期",prop:"create_time",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:"1"==t.row.status?"tag_success":"tag_danger",on:{click:function(a){e.changeState(t.row.id,t.row.status)}}},[e._v(e._s("1"==t.row.status?"启用":"禁用")+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"180",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("button",{staticClass:"el-button el-button--default el-button--small",attrs:{type:"button"},on:{click:function(a){e.editorlist(t.$index,t.row.id,e.tableData,"ruleForm")}}},[a("span",[e._v("编辑")])]),e._v(" "),a("button",{staticClass:"el-button el-button--danger el-button--small",attrs:{type:"button"},on:{click:function(a){e.deleted(t.row.id)}}},[a("span",[e._v("删除")])])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"-1"===e.addTableData.aid?"新增文章":"修改文章","close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}},model:{value:e.addTableData.id,callback:function(t){e.$set(e.addTableData,"id",t)},expression:"addTableData.id"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.addTableData,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"请输入文章标题"},model:{value:e.addTableData.title,callback:function(t){e.$set(e.addTableData,"title",t)},expression:"addTableData.title"}})],1),e._v(" "),a("div",{staticClass:"detail"},[e._v("文章内容")]),e._v(" "),e.dialogVisible?a("UE",{ref:"ue",staticClass:"ueeclsjdf",attrs:{defaultMsg:e.defaultMsg,config:e.config}}):e._e()],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelForm("ruleForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.sureLoading},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var W=a("vSla")(O,A,!1,function(e){a("Desh")},null,null).exports,H={name:"list",data:function(){return{editor:"",defaultMsg:"",defaultMsgName:"",abb:"",config:{initialFrameWidth:null,initialFrameHeight:350},info:{name:"",integral:"",money:"",limit:"",logo:null,guide:"",about:""},isshow:!0,loading:null,currentPage:1,pageSizes:[10],pagesize:10,tableData:[],total:0,sureLoading:!1,aid:"",dialogVisible:!1,dialogTableVisible:!1,addTableData:{title:"",aid:"",msg:"",status:1}}},activated:function(){this.getList()},methods:{cancelForm:function(e){this.dialogVisible=!1},editorlist:function(e,t,a,i){this.dialogVisible=!0,this.addTableData=C()({},a[e]),this.sureLoading=!1},submitForm:function(e){var t=this,a=this;if(this.sureLoading=!0,"-1"===a.addTableData.aid){var i={tag:"message",op:"add",data:{title:this.addTableData.title,status:this.addTableData.status,msg:this.addTableData.msg}};this.$axios.post(d+"/admin/message/index",r.a.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var i=e.data;i.err>0?(t.getList(),t.dialogVisible=!1,t.sureLoading=!1,a.$Notice.success({title:i.message})):(t.sureLoading=!1,a.$Notice.warning({title:i.message}))}).catch(function(){a.$Notice.error({title:"请求失败，请重试"})})}else{var n={tag:"message",op:"update",condition:{id:this.addTableData.id},data:{title:this.addTableData.title,status:this.addTableData.status,msg:this.addTableData.msg}};this.$axios.post(d+"/admin/message/index",r.a.stringify(n),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var i=e.data;i.err>0?(t.getList(),t.dialogVisible=!1,t.sureLoading=!1,a.$Notice.success({title:i.message})):(t.sureLoading=!1,a.$Notice.warning({title:i.message}))})}},add:function(e){this.dialogVisible=!0,this.addTableData={aid:"-1",title:"",msg:"",status:1},this.defaultMsg=""},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e,this.getList()},getList:function(e){var t=this,a=this;e&&(this.currentPage=1);this.$axios.post(d+"/admin/message/index",r.a.stringify({tag:"message",op:"getlist"}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.tableData=a.data.list,t.total=a.data.total,t.loading=!1):t.loading=!1}).catch(function(){a.$Notice.error({title:"请求失败，请重试"})})},deleted:function(e){var t=this;t.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a={tag:"message",op:"state",condition:{id:e},data:{status:"0"}};t.$axios.post(d+"/admin/message/index",r.a.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var a=e.data;a.err>0?(t.getList(),t.$message({type:"success",message:"删除成功!"})):t.$notify({title:"提示",message:a.data.message,type:"warning"})}).catch(function(){t.$Notice.error({title:"请求失败，请重试"})})})},changeState:function(e,t){var a=this,i={tag:"message",op:"state",condition:{id:e},data:{status:t=1===t?2:1}};a.$axios.post(d+"/admin/message/index",r.a.stringify(i),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var t=e.data;t.err>0?(a.getList(),a.$message({type:"success",message:t.message})):a.$notify({title:"提示",message:t.message,type:"warning"})}).catch(function(){a.$Notice.error({title:"请求失败，请重试"})})}}},G={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main_content"},[a("div",{staticClass:"main-title relative"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"../dashboard"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("消息列表")])],1),e._v(" "),a("div",{staticClass:"main-panle"},[a("form",{staticClass:"from-reset relative"},[a("div",{staticClass:"from-group"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.add("ruleForm")}}},[e._v("新增")])],1)])]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{align:"center",prop:"title",label:"标题"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"msg",label:"消息"}}),e._v(" "),a("el-table-column",{attrs:{label:"日期",prop:"time",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:"1"==t.row.status?"tag_success":"tag_danger",on:{click:function(a){e.changeState(t.row.id,t.row.status)}}},[e._v(e._s("1"==t.row.status?"启用":"禁用")+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"180",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("button",{staticClass:"el-button el-button--default el-button--small",attrs:{type:"button"},on:{click:function(a){e.editorlist(t.$index,t.row.id,e.tableData,"ruleForm")}}},[a("span",[e._v("编辑")])]),e._v(" "),a("button",{staticClass:"el-button el-button--danger el-button--small",attrs:{type:"button"},on:{click:function(a){e.deleted(t.row.id)}}},[a("span",[e._v("删除")])])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"-1"===e.addTableData.aid?"新增消息":"修改消息","close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.dialogVisible,width:"35%"},on:{"update:visible":function(t){e.dialogVisible=t}},model:{value:e.addTableData.id,callback:function(t){e.$set(e.addTableData,"id",t)},expression:"addTableData.id"}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.addTableData,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"请输入文章标题"},model:{value:e.addTableData.title,callback:function(t){e.$set(e.addTableData,"title",t)},expression:"addTableData.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"消息内容"}},[a("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入消息内容"},model:{value:e.addTableData.msg,callback:function(t){e.$set(e.addTableData,"msg",t)},expression:"addTableData.msg"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelForm("ruleForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.sureLoading},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var K=a("vSla")(H,G,!1,function(e){a("cefU")},null,null).exports,Z={name:"list",components:{UE:k},data:function(){return{editor:"",defaultMsg:"",defaultMsgName:"",config:{initialFrameWidth:null,initialFrameHeight:350},info:{name:"",integral:"",money:"",limit:"",logo:null,guide:"",about:""},imageUrl:"",loading:null}},activated:function(){this.initUe()},methods:{initUe:function(){this.editor=window.UE.getEditor("about-editor",this.config),this.getInfoone()},getInfoone:function(){var e=this,t=this;this.$axios.post(d+"/admin/systemsets/system_set",r.a.stringify({isUpdate:"2",tag:"aboutus_config"}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){var i=a.data;i.err>0?(t.info=i.data,t.defaultMsg=t.info.text||"",t.editor.setContent(t.defaultMsg)):(e.loading=!1,e.$Notice.warning({title:"请求失败，请重试"}))})},onSubmit:function(){var e=this,t={isUpdate:"1",tag:"aboutus_config",data:{text:this.editor.getContent()}};this.$axios.post(d+"/admin/systemsets/system_set",r.a.stringify(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){var a=t.data;a.err>0?e.$Notice.success({title:a.message}):e.$Notice.warning({title:a.message})}).catch(function(){this.$Notice.error({title:"请求失败，请重试"})})}}},J={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix card-header",attrs:{slot:"header"},slot:"header"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",[this._v("首页")]),this._v(" "),t("el-breadcrumb-item",[this._v("关于我们")])],1)],1),this._v(" "),t("div",{attrs:{id:"about-box-ue"}},[t("script",{staticStyle:{width:"1024px",height:"500px"},attrs:{id:"about-editor",type:"text/plain"}})]),this._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:this.onSubmit}},[this._v("保存")])],1)],1)},staticRenderFns:[]};var Y=a("vSla")(Z,J,!1,function(e){a("hu90")},null,null).exports,Q={name:"list",data:function(){return{sureLoading:!1,editor:"",defaultMsg:"",defaultMsgName:"",config:{initialFrameWidth:null,initialFrameHeight:350},info:{name:"",integral:"",money:"",limit:"",logo:null,guide:"",about:""},imageUrl:"",isshow:!0,loading:!1,addTableData:{url:"",state:1,imageUrl:"adsfjklasfjklsajfk",aid:""}}},activated:function(){this.initUe()},methods:{initUe:function(){var e=this;this.editor=window.UE.getEditor("guide-editor",this.config),this.editor.addListener("ready",function(){e.getInfo()})},getInfo:function(){var e=this,t=this;this.$axios.post(d+"/admin/systemsets/system_set",r.a.stringify({isUpdate:"2",tag:"share_config"}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){var i=a.data;i.err>0?(t.info=i.data,t.defaultMsg=t.info.content||"",t.editor.setContent(t.defaultMsg)):(e.loading=!1,e.$Notice.warning({title:"请求失败，请重试"}))}).catch(function(){this.$Notice.error({title:"请求失败，请重试"})})},onSubmit:function(){var e=this,t=this,a=new FormData;t.sureLoading=!0,a.append("tag","UPDSYSTEMCONFIG"),a.append("name",t.info.name),a.append("integral",t.info.integral),a.append("money",t.info.money),a.append("limit",t.info.limit),a.append("logo",t.info.logo),a.append("guide",t.editor.getContent()),a.append("about",t.info.about),t.axios.post("/Admin/Interface/Api",a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){setTimeout(function(){t.sureLoading=!1},600);var a=e.data;200===a.code?t.$notify({title:"提示：",message:"提交成功",type:"success"}):t.$notify({title:"提示：",message:a.data,type:"warning"})}).catch(function(t){setTimeout(function(){e.sureLoading=!1},600),console.error(t)})}}},X={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix card-header",attrs:{slot:"header"},slot:"header"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("分享")])],1)],1),e._v(" "),e.isshow?a("div",{attrs:{id:"guide-box-ue"}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.addTableData,"label-width":"100px"}},[a("el-form-item",{staticStyle:{width:"300px"},attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.addTableData.title,callback:function(t){e.$set(e.addTableData,"title",t)},expression:"addTableData.title"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"300px"},attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入描述"},model:{value:e.addTableData.dec,callback:function(t){e.$set(e.addTableData,"dec",t)},expression:"addTableData.dec"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图片"}},[a("el-upload",{staticClass:"avatar-uploader avatar-uploader_356x178 avatar-uploader_contain",attrs:{id:"el-upload1",action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-change":e.formImageChange,"auto-upload":!1,"on-success":e.handleAvatarSuccess}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),e._v(" "),a("script",{attrs:{id:"guide-editor",type:"text/plain"}})],1):e._e(),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.sureLoading},on:{click:e.onSubmit}},[e._v("保存")])],1)],1)},staticRenderFns:[]};var ee=a("vSla")(Q,X,!1,function(e){a("DkWE")},null,null).exports,te={data:function(){return{selectData:[],tableData:[],addManagerVisible:!1,imageUrl:"",state:1,sureLoading:!1,addTableData:{url:"",state:1,imageUrl:"adsfjklasfjklsajfk",aid:""}}},activated:function(){this.getList()},methods:{add:function(){this.imageUrl="",this.addTableData={url:"",state:1,imageUrl:"adsfjklasfjklsajfk",aid:"-1"},this.addManagerVisible=!0},getList:function(){var e=this;this.$axios.post(d+"/admin/systemsets/banner_or_ad_set",r.a.stringify({tag:"banner_config",op:"get"}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){var a=t.data;a.err>0?(e.tableData=a.data.list,e.total=a.data.total):e.loading=!1}).catch(function(){this.$Notice.error({title:"请求失败，请重试"})})},submitForm:function(){var e=this,t=this;this.sureLoading=!0;var a={tag:"banner_config",op:"add",data:{img:"sss.img",url:this.addTableData.url,title:this.addTableData.title,state:this.addTableData.state}};this.$axios.post(d+"/admin/systemsets/banner_or_ad_set",r.a.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){var i=a.data;i.err>0?(e.getList(),e.sureLoading=!1,e.addManagerVisible=!1,t.$Notice.success({title:i.message})):(e.sureLoading=!1,t.$Notice.warning({title:i.message}))}).catch(function(){t.$Notice.error({title:"请求失败，请重试"})})}}},ae={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main_content"},[a("div",{staticClass:"main-title relative"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("系统基本设置")])],1),e._v(" "),a("div",{staticClass:"set_content"},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.addTableData,"label-width":"200px"}},[a("el-form-item",{attrs:{label:"签到获取积分数量："}},[a("el-input",{attrs:{placeholder:"请输入签到获取积分数量"},model:{value:e.addTableData.title,callback:function(t){e.$set(e.addTableData,"title",t)},expression:"addTableData.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邀请好友获取积分数量："}},[a("el-input",{attrs:{placeholder:"请输入邀请好友获取积分数量"},model:{value:e.addTableData.url,callback:function(t){e.$set(e.addTableData,"url",t)},expression:"addTableData.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"客服电话："}},[a("el-input",{attrs:{placeholder:"请输入客服电话"},model:{value:e.addTableData.url,callback:function(t){e.$set(e.addTableData,"url",t)},expression:"addTableData.url"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer tc",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.sureLoading},on:{click:function(t){e.submitForm()}}},[e._v("提 交")])],1)],1)],1)])},staticRenderFns:[]};var ie=a("vSla")(te,ae,!1,function(e){a("PvTU")},null,null).exports,ne={data:function(){return{selectData:[],tableData:[],addManagerVisible:!1,imageUrl:"",state:1,sureLoading:!1,addTableData:{url:"",state:1,imageUrl:"adsfjklasfjklsajfk",aid:""}}},methods:{submitForm:function(){var e=this,t=this;this.sureLoading=!0;var a={tag:"banner_config",op:"add",data:{img:"sss.img",url:this.addTableData.url,title:this.addTableData.title,state:this.addTableData.state}};this.$axios.post(d+"/admin/systemsets/banner_or_ad_set",r.a.stringify(a),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){var i=a.data;i.err>0?(e.getList(),e.sureLoading=!1,e.addManagerVisible=!1,t.$Notice.success({title:i.message})):(e.sureLoading=!1,t.$Notice.warning({title:i.message}))}).catch(function(){t.$Notice.error({title:"请求失败，请重试"})})}}},le={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main_content"},[a("div",{staticClass:"main-title relative"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("短信设置")])],1),e._v(" "),a("div",{staticClass:"set_content"},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.addTableData,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"类型："}},[a("el-select",{staticStyle:{width:"50%"},model:{value:e.addTableData.status,callback:function(t){e.$set(e.addTableData,"status",t)},expression:"addTableData.status"}},[a("el-option",{attrs:{label:"短信验证码",value:1}}),e._v(" "),a("el-option",{attrs:{label:"通知类消息",value:2}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名："}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.addTableData.title,callback:function(t){e.$set(e.addTableData,"title",t)},expression:"addTableData.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码："}},[a("el-input",{attrs:{placeholder:"请输入密码"},model:{value:e.addTableData.url,callback:function(t){e.$set(e.addTableData,"url",t)},expression:"addTableData.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"短信有效期/月："}},[a("el-input",{attrs:{placeholder:"请输入短信有效期"},model:{value:e.addTableData.url,callback:function(t){e.$set(e.addTableData,"url",t)},expression:"addTableData.url"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer tc",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.sureLoading},on:{click:function(t){e.submitForm()}}},[e._v("提 交")])],1)],1)],1)])},staticRenderFns:[]};var se=a("vSla")(ne,le,!1,function(e){a("ljj7")},null,null).exports,oe={name:"list",components:{UE:k},data:function(){return{editor:"",defaultMsg:"",defaultMsgName:"",config:{initialFrameWidth:null,initialFrameHeight:350},info:{name:"",integral:"",money:"",limit:"",logo:null,guide:"",about:""},imageUrl:"",loading:null}},activated:function(){this.initUetwo()},methods:{initUetwo:function(){this.editor=window.UE.getEditor("about-editorone",this.config),this.getInfotwo()},getInfotwo:function(){var e=this,t=this;this.$axios.post(d+"/admin/systemsets/system_set",r.a.stringify({isUpdate:"2",tag:"point_rule_config"}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){var i=a.data;i.err>0?(t.info=i.data,t.defaultMsg=t.info.rule||"",t.editor.setContent(t.defaultMsg)):(e.loading=!1,e.$Notice.warning({title:"请求失败，请重试"}))})},onSubmit:function(){var e=this,t={isUpdate:"1",tag:"point_rule_config",data:{rule:this.editor.getContent()}};this.$axios.post(d+"/admin/systemsets/system_set",r.a.stringify(t),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){var a=t.data;a.err>0?e.$Notice.success({title:a.message}):e.$Notice.warning({title:a.message})}).catch(function(){this.$Notice.error({title:"请求失败，请重试"})})}}},re={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix card-header",attrs:{slot:"header"},slot:"header"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",[this._v("首页")]),this._v(" "),t("el-breadcrumb-item",[this._v("积分")])],1)],1),this._v(" "),t("script",{staticStyle:{width:"1024px",height:"500px"},attrs:{id:"about-editorone",type:"text/plain"}}),this._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:this.onSubmit}},[this._v("保存")])],1)],1)},staticRenderFns:[]};var de=a("vSla")(oe,re,!1,function(e){a("zsEC")},null,null).exports;i.default.use(s.a);var ce=new s.a({routes:[{path:"/",name:"login",component:p},{path:"/main",name:"main",component:v},{path:"/dashboard",name:"dashboard",component:v,children:[{path:"/dashboard",name:"dashboard",component:w}]},{path:"/account",component:v,children:[{path:"/account/accountlist",name:"accountlist",component:F}]},{path:"/banner",component:v,children:[{path:"/banner/bannerlist",name:"bannerlist",component:I},{path:"/banner/advertisement",name:"advertisement",component:U}]},{path:"/drugs",component:v,children:[{path:"/drugs/drugslist",name:"drugslist",component:j}]},{path:"/order",component:v,children:[{path:"/order/orderlist",name:"orderlist",component:q}]},{path:"/news",component:v,children:[{path:"/news/newslist",name:"newslist",component:W},{path:"/news/drugshare",name:"drugshare",component:K}]},{path:"/system",component:v,children:[{path:"/system/rule",name:"rule",component:Y},{path:"/system/share",name:"share",component:ee},{path:"/system/setup",name:"setup",component:ie},{path:"/system/message",name:"message",component:se},{path:"/system/integral",name:"integral",component:de}]}]}),ue=a("Axgm"),pe=a.n(ue),me=(a("dRIH"),a("aozt")),ge=a.n(me),he=(a("KgK4"),a("N3r4")),be=a.n(he),ve=(a("U91h"),a("zgOS")),fe=a.n(ve),_e=a("Aoaq"),we=a.n(_e),ye=(a("vGTQ"),a("5YEj")),Ce=a.n(ye);i.default.config.productionTip=!1,i.default.prototype.$axios=ge.a,i.default.prototype.$echarts=Ce.a,i.default.use(fe.a,{ak:"KCzp8claYra8uYAvahElV9oKUT6j7Gx1"}),i.default.use(pe.a),i.default.use(be.a),i.default.use(we.a),new i.default({el:"#app",router:ce,components:{App:l},template:"<App/>"})},PvTU:function(e,t){},U91h:function(e,t){},UmZv:function(e,t){},WH17:function(e,t){},alVk:function(e,t){},cefU:function(e,t){},dRIH:function(e,t){},hu90:function(e,t){},kErl:function(e,t){},ljj7:function(e,t){},vGTQ:function(e,t){},zsEC:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.3461c516333dcb157642.js.map